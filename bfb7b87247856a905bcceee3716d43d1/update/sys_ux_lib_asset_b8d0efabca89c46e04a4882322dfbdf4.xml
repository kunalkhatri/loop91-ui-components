<?xml version="1.0" encoding="UTF-8"?><record_update table="sys_ux_lib_asset">
    <sys_ux_lib_asset action="INSERT_OR_UPDATE">
        <bundled_asset>false</bundled_asset>
        <category>source_map</category>
        <checksum>6b183d0b4926b154b1d6d8b7df00ef26</checksum>
        <config_option/>
        <content>{"version":3,"file":"externals/qr-code-styling/1.9.2/index.min.js","mappings":"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","sources":["webpack:///QRCodeStyling/webpack/universalModuleDefinition","webpack:///QRCodeStyling/node_modules/qrcode-generator/qrcode.js","webpack:///QRCodeStyling/webpack/bootstrap","webpack:///QRCodeStyling/webpack/runtime/compat get default export","webpack:///QRCodeStyling/webpack/runtime/define property getters","webpack:///QRCodeStyling/webpack/runtime/hasOwnProperty shorthand","webpack:///QRCodeStyling/src/constants/modes.ts","webpack:///QRCodeStyling/src/tools/merge.ts","webpack:///QRCodeStyling/src/tools/downloadURI.ts","webpack:///QRCodeStyling/src/constants/errorCorrectionPercents.ts","webpack:///QRCodeStyling/src/figures/dot/QRDot.ts","webpack:///QRCodeStyling/src/constants/dotTypes.ts","webpack:///QRCodeStyling/src/constants/cornerSquareTypes.ts","webpack:///QRCodeStyling/src/figures/cornerSquare/QRCornerSquare.ts","webpack:///QRCodeStyling/src/constants/cornerDotTypes.ts","webpack:///QRCodeStyling/src/figures/cornerDot/QRCornerDot.ts","webpack:///QRCodeStyling/src/constants/gradientTypes.ts","webpack:///QRCodeStyling/src/constants/shapeTypes.ts","webpack:///QRCodeStyling/src/core/QRSVG.ts","webpack:///QRCodeStyling/src/tools/calculateImageSize.ts","webpack:///QRCodeStyling/src/tools/toDataUrl.ts","webpack:///QRCodeStyling/src/constants/drawTypes.ts","webpack:///QRCodeStyling/src/constants/qrTypes.ts","webpack:///QRCodeStyling/src/core/QROptions.ts","webpack:///QRCodeStyling/src/constants/errorCorrectionLevels.ts","webpack:///QRCodeStyling/src/tools/sanitizeOptions.ts","webpack:///QRCodeStyling/src/tools/getMimeType.ts","webpack:///QRCodeStyling/src/core/QRCodeStyling.ts","webpack:///QRCodeStyling/src/tools/getMode.ts","webpack:///QRCodeStyling/src/index.ts","webpack:///@babel\\runtime\\7.25.7\\helpers\\classCallCheck.js","webpack:///@babel\\runtime\\7.25.7\\helpers\\createClass.js","webpack:///@babel\\runtime\\7.25.7\\helpers\\toPrimitive.js","webpack:///@babel\\runtime\\7.25.7\\helpers\\toPropertyKey.js","webpack:///@babel\\runtime\\7.25.7\\helpers\\typeof.js","webpack:///webpack/bootstrap","webpack:///webpack/runtime/compat get default export","webpack:///webpack/runtime/define property getters","webpack:///webpack/runtime/hasOwnProperty shorthand","webpack:///webpack/runtime/make namespace object","webpack:///qr-code-styling\\1.9.2\\lib\\__imaginary.js"],"sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' &amp;&amp; typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' &amp;&amp; define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"QRCodeStyling\"] = factory();\n\telse\n\t\troot[\"QRCodeStyling\"] = factory();\n})(this, () =&gt; {\nreturn ","//---------------------------------------------------------------------\n//\n// QR Code Generator for JavaScript\n//\n// Copyright (c) 2009 Kazuhiko Arase\n//\n// URL: http://www.d-project.com/\n//\n// Licensed under the MIT license:\n//  http://www.opensource.org/licenses/mit-license.php\n//\n// The word 'QR Code' is registered trademark of\n// DENSO WAVE INCORPORATED\n//  http://www.denso-wave.com/qrcode/faqpatent-e.html\n//\n//---------------------------------------------------------------------\n\nvar qrcode = function() {\n\n  //---------------------------------------------------------------------\n  // qrcode\n  //---------------------------------------------------------------------\n\n  /**\n   * qrcode\n   * @param typeNumber 1 to 40\n   * @param errorCorrectionLevel 'L','M','Q','H'\n   */\n  var qrcode = function(typeNumber, errorCorrectionLevel) {\n\n    var PAD0 = 0xEC;\n    var PAD1 = 0x11;\n\n    var _typeNumber = typeNumber;\n    var _errorCorrectionLevel = QRErrorCorrectionLevel[errorCorrectionLevel];\n    var _modules = null;\n    var _moduleCount = 0;\n    var _dataCache = null;\n    var _dataList = [];\n\n    var _this = {};\n\n    var makeImpl = function(test, maskPattern) {\n\n      _moduleCount = _typeNumber * 4 + 17;\n      _modules = function(moduleCount) {\n        var modules = new Array(moduleCount);\n        for (var row = 0; row &lt; moduleCount; row += 1) {\n          modules[row] = new Array(moduleCount);\n          for (var col = 0; col &lt; moduleCount; col += 1) {\n            modules[row][col] = null;\n          }\n        }\n        return modules;\n      }(_moduleCount);\n\n      setupPositionProbePattern(0, 0);\n      setupPositionProbePattern(_moduleCount - 7, 0);\n      setupPositionProbePattern(0, _moduleCount - 7);\n      setupPositionAdjustPattern();\n      setupTimingPattern();\n      setupTypeInfo(test, maskPattern);\n\n      if (_typeNumber &gt;= 7) {\n        setupTypeNumber(test);\n      }\n\n      if (_dataCache == null) {\n        _dataCache = createData(_typeNumber, _errorCorrectionLevel, _dataList);\n      }\n\n      mapData(_dataCache, maskPattern);\n    };\n\n    var setupPositionProbePattern = function(row, col) {\n\n      for (var r = -1; r &lt;= 7; r += 1) {\n\n        if (row + r &lt;= -1 || _moduleCount &lt;= row + r) continue;\n\n        for (var c = -1; c &lt;= 7; c += 1) {\n\n          if (col + c &lt;= -1 || _moduleCount &lt;= col + c) continue;\n\n          if ( (0 &lt;= r &amp;&amp; r &lt;= 6 &amp;&amp; (c == 0 || c == 6) )\n              || (0 &lt;= c &amp;&amp; c &lt;= 6 &amp;&amp; (r == 0 || r == 6) )\n              || (2 &lt;= r &amp;&amp; r &lt;= 4 &amp;&amp; 2 &lt;= c &amp;&amp; c &lt;= 4) ) {\n            _modules[row + r][col + c] = true;\n          } else {\n            _modules[row + r][col + c] = false;\n          }\n        }\n      }\n    };\n\n    var getBestMaskPattern = function() {\n\n      var minLostPoint = 0;\n      var pattern = 0;\n\n      for (var i = 0; i &lt; 8; i += 1) {\n\n        makeImpl(true, i);\n\n        var lostPoint = QRUtil.getLostPoint(_this);\n\n        if (i == 0 || minLostPoint &gt; lostPoint) {\n          minLostPoint = lostPoint;\n          pattern = i;\n        }\n      }\n\n      return pattern;\n    };\n\n    var setupTimingPattern = function() {\n\n      for (var r = 8; r &lt; _moduleCount - 8; r += 1) {\n        if (_modules[r][6] != null) {\n          continue;\n        }\n        _modules[r][6] = (r % 2 == 0);\n      }\n\n      for (var c = 8; c &lt; _moduleCount - 8; c += 1) {\n        if (_modules[6][c] != null) {\n          continue;\n        }\n        _modules[6][c] = (c % 2 == 0);\n      }\n    };\n\n    var setupPositionAdjustPattern = function() {\n\n      var pos = QRUtil.getPatternPosition(_typeNumber);\n\n      for (var i = 0; i &lt; pos.length; i += 1) {\n\n        for (var j = 0; j &lt; pos.length; j += 1) {\n\n          var row = pos[i];\n          var col = pos[j];\n\n          if (_modules[row][col] != null) {\n            continue;\n          }\n\n          for (var r = -2; r &lt;= 2; r += 1) {\n\n            for (var c = -2; c &lt;= 2; c += 1) {\n\n              if (r == -2 || r == 2 || c == -2 || c == 2\n                  || (r == 0 &amp;&amp; c == 0) ) {\n                _modules[row + r][col + c] = true;\n              } else {\n                _modules[row + r][col + c] = false;\n              }\n            }\n          }\n        }\n      }\n    };\n\n    var setupTypeNumber = function(test) {\n\n      var bits = QRUtil.getBCHTypeNumber(_typeNumber);\n\n      for (var i = 0; i &lt; 18; i += 1) {\n        var mod = (!test &amp;&amp; ( (bits &gt;&gt; i) &amp; 1) == 1);\n        _modules[Math.floor(i / 3)][i % 3 + _moduleCount - 8 - 3] = mod;\n      }\n\n      for (var i = 0; i &lt; 18; i += 1) {\n        var mod = (!test &amp;&amp; ( (bits &gt;&gt; i) &amp; 1) == 1);\n        _modules[i % 3 + _moduleCount - 8 - 3][Math.floor(i / 3)] = mod;\n      }\n    };\n\n    var setupTypeInfo = function(test, maskPattern) {\n\n      var data = (_errorCorrectionLevel &lt;&lt; 3) | maskPattern;\n      var bits = QRUtil.getBCHTypeInfo(data);\n\n      // vertical\n      for (var i = 0; i &lt; 15; i += 1) {\n\n        var mod = (!test &amp;&amp; ( (bits &gt;&gt; i) &amp; 1) == 1);\n\n        if (i &lt; 6) {\n          _modules[i][8] = mod;\n        } else if (i &lt; 8) {\n          _modules[i + 1][8] = mod;\n        } else {\n          _modules[_moduleCount - 15 + i][8] = mod;\n        }\n      }\n\n      // horizontal\n      for (var i = 0; i &lt; 15; i += 1) {\n\n        var mod = (!test &amp;&amp; ( (bits &gt;&gt; i) &amp; 1) == 1);\n\n        if (i &lt; 8) {\n          _modules[8][_moduleCount - i - 1] = mod;\n        } else if (i &lt; 9) {\n          _modules[8][15 - i - 1 + 1] = mod;\n        } else {\n          _modules[8][15 - i - 1] = mod;\n        }\n      }\n\n      // fixed module\n      _modules[_moduleCount - 8][8] = (!test);\n    };\n\n    var mapData = function(data, maskPattern) {\n\n      var inc = -1;\n      var row = _moduleCount - 1;\n      var bitIndex = 7;\n      var byteIndex = 0;\n      var maskFunc = QRUtil.getMaskFunction(maskPattern);\n\n      for (var col = _moduleCount - 1; col &gt; 0; col -= 2) {\n\n        if (col == 6) col -= 1;\n\n        while (true) {\n\n          for (var c = 0; c &lt; 2; c += 1) {\n\n            if (_modules[row][col - c] == null) {\n\n              var dark = false;\n\n              if (byteIndex &lt; data.length) {\n                dark = ( ( (data[byteIndex] &gt;&gt;&gt; bitIndex) &amp; 1) == 1);\n              }\n\n              var mask = maskFunc(row, col - c);\n\n              if (mask) {\n                dark = !dark;\n              }\n\n              _modules[row][col - c] = dark;\n              bitIndex -= 1;\n\n              if (bitIndex == -1) {\n                byteIndex += 1;\n                bitIndex = 7;\n              }\n            }\n          }\n\n          row += inc;\n\n          if (row &lt; 0 || _moduleCount &lt;= row) {\n            row -= inc;\n            inc = -inc;\n            break;\n          }\n        }\n      }\n    };\n\n    var createBytes = function(buffer, rsBlocks) {\n\n      var offset = 0;\n\n      var maxDcCount = 0;\n      var maxEcCount = 0;\n\n      var dcdata = new Array(rsBlocks.length);\n      var ecdata = new Array(rsBlocks.length);\n\n      for (var r = 0; r &lt; rsBlocks.length; r += 1) {\n\n        var dcCount = rsBlocks[r].dataCount;\n        var ecCount = rsBlocks[r].totalCount - dcCount;\n\n        maxDcCount = Math.max(maxDcCount, dcCount);\n        maxEcCount = Math.max(maxEcCount, ecCount);\n\n        dcdata[r] = new Array(dcCount);\n\n        for (var i = 0; i &lt; dcdata[r].length; i += 1) {\n          dcdata[r][i] = 0xff &amp; buffer.getBuffer()[i + offset];\n        }\n        offset += dcCount;\n\n        var rsPoly = QRUtil.getErrorCorrectPolynomial(ecCount);\n        var rawPoly = qrPolynomial(dcdata[r], rsPoly.getLength() - 1);\n\n        var modPoly = rawPoly.mod(rsPoly);\n        ecdata[r] = new Array(rsPoly.getLength() - 1);\n        for (var i = 0; i &lt; ecdata[r].length; i += 1) {\n          var modIndex = i + modPoly.getLength() - ecdata[r].length;\n          ecdata[r][i] = (modIndex &gt;= 0)? modPoly.getAt(modIndex) : 0;\n        }\n      }\n\n      var totalCodeCount = 0;\n      for (var i = 0; i &lt; rsBlocks.length; i += 1) {\n        totalCodeCount += rsBlocks[i].totalCount;\n      }\n\n      var data = new Array(totalCodeCount);\n      var index = 0;\n\n      for (var i = 0; i &lt; maxDcCount; i += 1) {\n        for (var r = 0; r &lt; rsBlocks.length; r += 1) {\n          if (i &lt; dcdata[r].length) {\n            data[index] = dcdata[r][i];\n            index += 1;\n          }\n        }\n      }\n\n      for (var i = 0; i &lt; maxEcCount; i += 1) {\n        for (var r = 0; r &lt; rsBlocks.length; r += 1) {\n          if (i &lt; ecdata[r].length) {\n            data[index] = ecdata[r][i];\n            index += 1;\n          }\n        }\n      }\n\n      return data;\n    };\n\n    var createData = function(typeNumber, errorCorrectionLevel, dataList) {\n\n      var rsBlocks = QRRSBlock.getRSBlocks(typeNumber, errorCorrectionLevel);\n\n      var buffer = qrBitBuffer();\n\n      for (var i = 0; i &lt; dataList.length; i += 1) {\n        var data = dataList[i];\n        buffer.put(data.getMode(), 4);\n        buffer.put(data.getLength(), QRUtil.getLengthInBits(data.getMode(), typeNumber) );\n        data.write(buffer);\n      }\n\n      // calc num max data.\n      var totalDataCount = 0;\n      for (var i = 0; i &lt; rsBlocks.length; i += 1) {\n        totalDataCount += rsBlocks[i].dataCount;\n      }\n\n      if (buffer.getLengthInBits() &gt; totalDataCount * 8) {\n        throw 'code length overflow. ('\n          + buffer.getLengthInBits()\n          + '&gt;'\n          + totalDataCount * 8\n          + ')';\n      }\n\n      // end code\n      if (buffer.getLengthInBits() + 4 &lt;= totalDataCount * 8) {\n        buffer.put(0, 4);\n      }\n\n      // padding\n      while (buffer.getLengthInBits() % 8 != 0) {\n        buffer.putBit(false);\n      }\n\n      // padding\n      while (true) {\n\n        if (buffer.getLengthInBits() &gt;= totalDataCount * 8) {\n          break;\n        }\n        buffer.put(PAD0, 8);\n\n        if (buffer.getLengthInBits() &gt;= totalDataCount * 8) {\n          break;\n        }\n        buffer.put(PAD1, 8);\n      }\n\n      return createBytes(buffer, rsBlocks);\n    };\n\n    _this.addData = function(data, mode) {\n\n      mode = mode || 'Byte';\n\n      var newData = null;\n\n      switch(mode) {\n      case 'Numeric' :\n        newData = qrNumber(data);\n        break;\n      case 'Alphanumeric' :\n        newData = qrAlphaNum(data);\n        break;\n      case 'Byte' :\n        newData = qr8BitByte(data);\n        break;\n      case 'Kanji' :\n        newData = qrKanji(data);\n        break;\n      default :\n        throw 'mode:' + mode;\n      }\n\n      _dataList.push(newData);\n      _dataCache = null;\n    };\n\n    _this.isDark = function(row, col) {\n      if (row &lt; 0 || _moduleCount &lt;= row || col &lt; 0 || _moduleCount &lt;= col) {\n        throw row + ',' + col;\n      }\n      return _modules[row][col];\n    };\n\n    _this.getModuleCount = function() {\n      return _moduleCount;\n    };\n\n    _this.make = function() {\n      if (_typeNumber &lt; 1) {\n        var typeNumber = 1;\n\n        for (; typeNumber &lt; 40; typeNumber++) {\n          var rsBlocks = QRRSBlock.getRSBlocks(typeNumber, _errorCorrectionLevel);\n          var buffer = qrBitBuffer();\n\n          for (var i = 0; i &lt; _dataList.length; i++) {\n            var data = _dataList[i];\n            buffer.put(data.getMode(), 4);\n            buffer.put(data.getLength(), QRUtil.getLengthInBits(data.getMode(), typeNumber) );\n            data.write(buffer);\n          }\n\n          var totalDataCount = 0;\n          for (var i = 0; i &lt; rsBlocks.length; i++) {\n            totalDataCount += rsBlocks[i].dataCount;\n          }\n\n          if (buffer.getLengthInBits() &lt;= totalDataCount * 8) {\n            break;\n          }\n        }\n\n        _typeNumber = typeNumber;\n      }\n\n      makeImpl(false, getBestMaskPattern() );\n    };\n\n    _this.createTableTag = function(cellSize, margin) {\n\n      cellSize = cellSize || 2;\n      margin = (typeof margin == 'undefined')? cellSize * 4 : margin;\n\n      var qrHtml = '';\n\n      qrHtml += '&lt;table style=\"';\n      qrHtml += ' border-width: 0px; border-style: none;';\n      qrHtml += ' border-collapse: collapse;';\n      qrHtml += ' padding: 0px; margin: ' + margin + 'px;';\n      qrHtml += '\"&gt;';\n      qrHtml += '&lt;tbody&gt;';\n\n      for (var r = 0; r &lt; _this.getModuleCount(); r += 1) {\n\n        qrHtml += '&lt;tr&gt;';\n\n        for (var c = 0; c &lt; _this.getModuleCount(); c += 1) {\n          qrHtml += '&lt;td style=\"';\n          qrHtml += ' border-width: 0px; border-style: none;';\n          qrHtml += ' border-collapse: collapse;';\n          qrHtml += ' padding: 0px; margin: 0px;';\n          qrHtml += ' width: ' + cellSize + 'px;';\n          qrHtml += ' height: ' + cellSize + 'px;';\n          qrHtml += ' background-color: ';\n          qrHtml += _this.isDark(r, c)? '#000000' : '#ffffff';\n          qrHtml += ';';\n          qrHtml += '\"/&gt;';\n        }\n\n        qrHtml += '&lt;/tr&gt;';\n      }\n\n      qrHtml += '&lt;/tbody&gt;';\n      qrHtml += '&lt;/table&gt;';\n\n      return qrHtml;\n    };\n\n    _this.createSvgTag = function(cellSize, margin, alt, title) {\n\n      var opts = {};\n      if (typeof arguments[0] == 'object') {\n        // Called by options.\n        opts = arguments[0];\n        // overwrite cellSize and margin.\n        cellSize = opts.cellSize;\n        margin = opts.margin;\n        alt = opts.alt;\n        title = opts.title;\n      }\n\n      cellSize = cellSize || 2;\n      margin = (typeof margin == 'undefined')? cellSize * 4 : margin;\n\n      // Compose alt property surrogate\n      alt = (typeof alt === 'string') ? {text: alt} : alt || {};\n      alt.text = alt.text || null;\n      alt.id = (alt.text) ? alt.id || 'qrcode-description' : null;\n\n      // Compose title property surrogate\n      title = (typeof title === 'string') ? {text: title} : title || {};\n      title.text = title.text || null;\n      title.id = (title.text) ? title.id || 'qrcode-title' : null;\n\n      var size = _this.getModuleCount() * cellSize + margin * 2;\n      var c, mc, r, mr, qrSvg='', rect;\n\n      rect = 'l' + cellSize + ',0 0,' + cellSize +\n        ' -' + cellSize + ',0 0,-' + cellSize + 'z ';\n\n      qrSvg += '&lt;svg version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\"';\n      qrSvg += !opts.scalable ? ' width=\"' + size + 'px\" height=\"' + size + 'px\"' : '';\n      qrSvg += ' viewBox=\"0 0 ' + size + ' ' + size + '\" ';\n      qrSvg += ' preserveAspectRatio=\"xMinYMin meet\"';\n      qrSvg += (title.text || alt.text) ? ' role=\"img\" aria-labelledby=\"' +\n          escapeXml([title.id, alt.id].join(' ').trim() ) + '\"' : '';\n      qrSvg += '&gt;';\n      qrSvg += (title.text) ? '&lt;title id=\"' + escapeXml(title.id) + '\"&gt;' +\n          escapeXml(title.text) + '&lt;/title&gt;' : '';\n      qrSvg += (alt.text) ? '&lt;description id=\"' + escapeXml(alt.id) + '\"&gt;' +\n          escapeXml(alt.text) + '&lt;/description&gt;' : '';\n      qrSvg += '&lt;rect width=\"100%\" height=\"100%\" fill=\"white\" cx=\"0\" cy=\"0\"/&gt;';\n      qrSvg += '&lt;path d=\"';\n\n      for (r = 0; r &lt; _this.getModuleCount(); r += 1) {\n        mr = r * cellSize + margin;\n        for (c = 0; c &lt; _this.getModuleCount(); c += 1) {\n          if (_this.isDark(r, c) ) {\n            mc = c*cellSize+margin;\n            qrSvg += 'M' + mc + ',' + mr + rect;\n          }\n        }\n      }\n\n      qrSvg += '\" stroke=\"transparent\" fill=\"black\"/&gt;';\n      qrSvg += '&lt;/svg&gt;';\n\n      return qrSvg;\n    };\n\n    _this.createDataURL = function(cellSize, margin) {\n\n      cellSize = cellSize || 2;\n      margin = (typeof margin == 'undefined')? cellSize * 4 : margin;\n\n      var size = _this.getModuleCount() * cellSize + margin * 2;\n      var min = margin;\n      var max = size - margin;\n\n      return createDataURL(size, size, function(x, y) {\n        if (min &lt;= x &amp;&amp; x &lt; max &amp;&amp; min &lt;= y &amp;&amp; y &lt; max) {\n          var c = Math.floor( (x - min) / cellSize);\n          var r = Math.floor( (y - min) / cellSize);\n          return _this.isDark(r, c)? 0 : 1;\n        } else {\n          return 1;\n        }\n      } );\n    };\n\n    _this.createImgTag = function(cellSize, margin, alt) {\n\n      cellSize = cellSize || 2;\n      margin = (typeof margin == 'undefined')? cellSize * 4 : margin;\n\n      var size = _this.getModuleCount() * cellSize + margin * 2;\n\n      var img = '';\n      img += '&lt;img';\n      img += '\\u0020src=\"';\n      img += _this.createDataURL(cellSize, margin);\n      img += '\"';\n      img += '\\u0020width=\"';\n      img += size;\n      img += '\"';\n      img += '\\u0020height=\"';\n      img += size;\n      img += '\"';\n      if (alt) {\n        img += '\\u0020alt=\"';\n        img += escapeXml(alt);\n        img += '\"';\n      }\n      img += '/&gt;';\n\n      return img;\n    };\n\n    var escapeXml = function(s) {\n      var escaped = '';\n      for (var i = 0; i &lt; s.length; i += 1) {\n        var c = s.charAt(i);\n        switch(c) {\n        case '&lt;': escaped += '&amp;lt;'; break;\n        case '&gt;': escaped += '&amp;gt;'; break;\n        case '&amp;': escaped += '&amp;amp;'; break;\n        case '\"': escaped += '&amp;quot;'; break;\n        default : escaped += c; break;\n        }\n      }\n      return escaped;\n    };\n\n    var _createHalfASCII = function(margin) {\n      var cellSize = 1;\n      margin = (typeof margin == 'undefined')? cellSize * 2 : margin;\n\n      var size = _this.getModuleCount() * cellSize + margin * 2;\n      var min = margin;\n      var max = size - margin;\n\n      var y, x, r1, r2, p;\n\n      var blocks = {\n        '': '',\n        ' ': '',\n        ' ': '',\n        '  ': ' '\n      };\n\n      var blocksLastLineNoMargin = {\n        '': '',\n        ' ': '',\n        ' ': ' ',\n        '  ': ' '\n      };\n\n      var ascii = '';\n      for (y = 0; y &lt; size; y += 2) {\n        r1 = Math.floor((y - min) / cellSize);\n        r2 = Math.floor((y + 1 - min) / cellSize);\n        for (x = 0; x &lt; size; x += 1) {\n          p = '';\n\n          if (min &lt;= x &amp;&amp; x &lt; max &amp;&amp; min &lt;= y &amp;&amp; y &lt; max &amp;&amp; _this.isDark(r1, Math.floor((x - min) / cellSize))) {\n            p = ' ';\n          }\n\n          if (min &lt;= x &amp;&amp; x &lt; max &amp;&amp; min &lt;= y+1 &amp;&amp; y+1 &lt; max &amp;&amp; _this.isDark(r2, Math.floor((x - min) / cellSize))) {\n            p += ' ';\n          }\n          else {\n            p += '';\n          }\n\n          // Output 2 characters per pixel, to create full square. 1 character per pixels gives only half width of square.\n          ascii += (margin &lt; 1 &amp;&amp; y+1 &gt;= max) ? blocksLastLineNoMargin[p] : blocks[p];\n        }\n\n        ascii += '\\n';\n      }\n\n      if (size % 2 &amp;&amp; margin &gt; 0) {\n        return ascii.substring(0, ascii.length - size - 1) + Array(size+1).join('');\n      }\n\n      return ascii.substring(0, ascii.length-1);\n    };\n\n    _this.createASCII = function(cellSize, margin) {\n      cellSize = cellSize || 1;\n\n      if (cellSize &lt; 2) {\n        return _createHalfASCII(margin);\n      }\n\n      cellSize -= 1;\n      margin = (typeof margin == 'undefined')? cellSize * 2 : margin;\n\n      var size = _this.getModuleCount() * cellSize + margin * 2;\n      var min = margin;\n      var max = size - margin;\n\n      var y, x, r, p;\n\n      var white = Array(cellSize+1).join('');\n      var black = Array(cellSize+1).join('  ');\n\n      var ascii = '';\n      var line = '';\n      for (y = 0; y &lt; size; y += 1) {\n        r = Math.floor( (y - min) / cellSize);\n        line = '';\n        for (x = 0; x &lt; size; x += 1) {\n          p = 1;\n\n          if (min &lt;= x &amp;&amp; x &lt; max &amp;&amp; min &lt;= y &amp;&amp; y &lt; max &amp;&amp; _this.isDark(r, Math.floor((x - min) / cellSize))) {\n            p = 0;\n          }\n\n          // Output 2 characters per pixel, to create full square. 1 character per pixels gives only half width of square.\n          line += p ? white : black;\n        }\n\n        for (r = 0; r &lt; cellSize; r += 1) {\n          ascii += line + '\\n';\n        }\n      }\n\n      return ascii.substring(0, ascii.length-1);\n    };\n\n    _this.renderTo2dContext = function(context, cellSize) {\n      cellSize = cellSize || 2;\n      var length = _this.getModuleCount();\n      for (var row = 0; row &lt; length; row++) {\n        for (var col = 0; col &lt; length; col++) {\n          context.fillStyle = _this.isDark(row, col) ? 'black' : 'white';\n          context.fillRect(row * cellSize, col * cellSize, cellSize, cellSize);\n        }\n      }\n    }\n\n    return _this;\n  };\n\n  //---------------------------------------------------------------------\n  // qrcode.stringToBytes\n  //---------------------------------------------------------------------\n\n  qrcode.stringToBytesFuncs = {\n    'default' : function(s) {\n      var bytes = [];\n      for (var i = 0; i &lt; s.length; i += 1) {\n        var c = s.charCodeAt(i);\n        bytes.push(c &amp; 0xff);\n      }\n      return bytes;\n    }\n  };\n\n  qrcode.stringToBytes = qrcode.stringToBytesFuncs['default'];\n\n  //---------------------------------------------------------------------\n  // qrcode.createStringToBytes\n  //---------------------------------------------------------------------\n\n  /**\n   * @param unicodeData base64 string of byte array.\n   * [16bit Unicode],[16bit Bytes], ...\n   * @param numChars\n   */\n  qrcode.createStringToBytes = function(unicodeData, numChars) {\n\n    // create conversion map.\n\n    var unicodeMap = function() {\n\n      var bin = base64DecodeInputStream(unicodeData);\n      var read = function() {\n        var b = bin.read();\n        if (b == -1) throw 'eof';\n        return b;\n      };\n\n      var count = 0;\n      var unicodeMap = {};\n      while (true) {\n        var b0 = bin.read();\n        if (b0 == -1) break;\n        var b1 = read();\n        var b2 = read();\n        var b3 = read();\n        var k = String.fromCharCode( (b0 &lt;&lt; 8) | b1);\n        var v = (b2 &lt;&lt; 8) | b3;\n        unicodeMap[k] = v;\n        count += 1;\n      }\n      if (count != numChars) {\n        throw count + ' != ' + numChars;\n      }\n\n      return unicodeMap;\n    }();\n\n    var unknownChar = '?'.charCodeAt(0);\n\n    return function(s) {\n      var bytes = [];\n      for (var i = 0; i &lt; s.length; i += 1) {\n        var c = s.charCodeAt(i);\n        if (c &lt; 128) {\n          bytes.push(c);\n        } else {\n          var b = unicodeMap[s.charAt(i)];\n          if (typeof b == 'number') {\n            if ( (b &amp; 0xff) == b) {\n              // 1byte\n              bytes.push(b);\n            } else {\n              // 2bytes\n              bytes.push(b &gt;&gt;&gt; 8);\n              bytes.push(b &amp; 0xff);\n            }\n          } else {\n            bytes.push(unknownChar);\n          }\n        }\n      }\n      return bytes;\n    };\n  };\n\n  //---------------------------------------------------------------------\n  // QRMode\n  //---------------------------------------------------------------------\n\n  var QRMode = {\n    MODE_NUMBER :    1 &lt;&lt; 0,\n    MODE_ALPHA_NUM : 1 &lt;&lt; 1,\n    MODE_8BIT_BYTE : 1 &lt;&lt; 2,\n    MODE_KANJI :     1 &lt;&lt; 3\n  };\n\n  //---------------------------------------------------------------------\n  // QRErrorCorrectionLevel\n  //---------------------------------------------------------------------\n\n  var QRErrorCorrectionLevel = {\n    L : 1,\n    M : 0,\n    Q : 3,\n    H : 2\n  };\n\n  //---------------------------------------------------------------------\n  // QRMaskPattern\n  //---------------------------------------------------------------------\n\n  var QRMaskPattern = {\n    PATTERN000 : 0,\n    PATTERN001 : 1,\n    PATTERN010 : 2,\n    PATTERN011 : 3,\n    PATTERN100 : 4,\n    PATTERN101 : 5,\n    PATTERN110 : 6,\n    PATTERN111 : 7\n  };\n\n  //---------------------------------------------------------------------\n  // QRUtil\n  //---------------------------------------------------------------------\n\n  var QRUtil = function() {\n\n    var PATTERN_POSITION_TABLE = [\n      [],\n      [6, 18],\n      [6, 22],\n      [6, 26],\n      [6, 30],\n      [6, 34],\n      [6, 22, 38],\n      [6, 24, 42],\n      [6, 26, 46],\n      [6, 28, 50],\n      [6, 30, 54],\n      [6, 32, 58],\n      [6, 34, 62],\n      [6, 26, 46, 66],\n      [6, 26, 48, 70],\n      [6, 26, 50, 74],\n      [6, 30, 54, 78],\n      [6, 30, 56, 82],\n      [6, 30, 58, 86],\n      [6, 34, 62, 90],\n      [6, 28, 50, 72, 94],\n      [6, 26, 50, 74, 98],\n      [6, 30, 54, 78, 102],\n      [6, 28, 54, 80, 106],\n      [6, 32, 58, 84, 110],\n      [6, 30, 58, 86, 114],\n      [6, 34, 62, 90, 118],\n      [6, 26, 50, 74, 98, 122],\n      [6, 30, 54, 78, 102, 126],\n      [6, 26, 52, 78, 104, 130],\n      [6, 30, 56, 82, 108, 134],\n      [6, 34, 60, 86, 112, 138],\n      [6, 30, 58, 86, 114, 142],\n      [6, 34, 62, 90, 118, 146],\n      [6, 30, 54, 78, 102, 126, 150],\n      [6, 24, 50, 76, 102, 128, 154],\n      [6, 28, 54, 80, 106, 132, 158],\n      [6, 32, 58, 84, 110, 136, 162],\n      [6, 26, 54, 82, 110, 138, 166],\n      [6, 30, 58, 86, 114, 142, 170]\n    ];\n    var G15 = (1 &lt;&lt; 10) | (1 &lt;&lt; 8) | (1 &lt;&lt; 5) | (1 &lt;&lt; 4) | (1 &lt;&lt; 2) | (1 &lt;&lt; 1) | (1 &lt;&lt; 0);\n    var G18 = (1 &lt;&lt; 12) | (1 &lt;&lt; 11) | (1 &lt;&lt; 10) | (1 &lt;&lt; 9) | (1 &lt;&lt; 8) | (1 &lt;&lt; 5) | (1 &lt;&lt; 2) | (1 &lt;&lt; 0);\n    var G15_MASK = (1 &lt;&lt; 14) | (1 &lt;&lt; 12) | (1 &lt;&lt; 10) | (1 &lt;&lt; 4) | (1 &lt;&lt; 1);\n\n    var _this = {};\n\n    var getBCHDigit = function(data) {\n      var digit = 0;\n      while (data != 0) {\n        digit += 1;\n        data &gt;&gt;&gt;= 1;\n      }\n      return digit;\n    };\n\n    _this.getBCHTypeInfo = function(data) {\n      var d = data &lt;&lt; 10;\n      while (getBCHDigit(d) - getBCHDigit(G15) &gt;= 0) {\n        d ^= (G15 &lt;&lt; (getBCHDigit(d) - getBCHDigit(G15) ) );\n      }\n      return ( (data &lt;&lt; 10) | d) ^ G15_MASK;\n    };\n\n    _this.getBCHTypeNumber = function(data) {\n      var d = data &lt;&lt; 12;\n      while (getBCHDigit(d) - getBCHDigit(G18) &gt;= 0) {\n        d ^= (G18 &lt;&lt; (getBCHDigit(d) - getBCHDigit(G18) ) );\n      }\n      return (data &lt;&lt; 12) | d;\n    };\n\n    _this.getPatternPosition = function(typeNumber) {\n      return PATTERN_POSITION_TABLE[typeNumber - 1];\n    };\n\n    _this.getMaskFunction = function(maskPattern) {\n\n      switch (maskPattern) {\n\n      case QRMaskPattern.PATTERN000 :\n        return function(i, j) { return (i + j) % 2 == 0; };\n      case QRMaskPattern.PATTERN001 :\n        return function(i, j) { return i % 2 == 0; };\n      case QRMaskPattern.PATTERN010 :\n        return function(i, j) { return j % 3 == 0; };\n      case QRMaskPattern.PATTERN011 :\n        return function(i, j) { return (i + j) % 3 == 0; };\n      case QRMaskPattern.PATTERN100 :\n        return function(i, j) { return (Math.floor(i / 2) + Math.floor(j / 3) ) % 2 == 0; };\n      case QRMaskPattern.PATTERN101 :\n        return function(i, j) { return (i * j) % 2 + (i * j) % 3 == 0; };\n      case QRMaskPattern.PATTERN110 :\n        return function(i, j) { return ( (i * j) % 2 + (i * j) % 3) % 2 == 0; };\n      case QRMaskPattern.PATTERN111 :\n        return function(i, j) { return ( (i * j) % 3 + (i + j) % 2) % 2 == 0; };\n\n      default :\n        throw 'bad maskPattern:' + maskPattern;\n      }\n    };\n\n    _this.getErrorCorrectPolynomial = function(errorCorrectLength) {\n      var a = qrPolynomial([1], 0);\n      for (var i = 0; i &lt; errorCorrectLength; i += 1) {\n        a = a.multiply(qrPolynomial([1, QRMath.gexp(i)], 0) );\n      }\n      return a;\n    };\n\n    _this.getLengthInBits = function(mode, type) {\n\n      if (1 &lt;= type &amp;&amp; type &lt; 10) {\n\n        // 1 - 9\n\n        switch(mode) {\n        case QRMode.MODE_NUMBER    : return 10;\n        case QRMode.MODE_ALPHA_NUM : return 9;\n        case QRMode.MODE_8BIT_BYTE : return 8;\n        case QRMode.MODE_KANJI     : return 8;\n        default :\n          throw 'mode:' + mode;\n        }\n\n      } else if (type &lt; 27) {\n\n        // 10 - 26\n\n        switch(mode) {\n        case QRMode.MODE_NUMBER    : return 12;\n        case QRMode.MODE_ALPHA_NUM : return 11;\n        case QRMode.MODE_8BIT_BYTE : return 16;\n        case QRMode.MODE_KANJI     : return 10;\n        default :\n          throw 'mode:' + mode;\n        }\n\n      } else if (type &lt; 41) {\n\n        // 27 - 40\n\n        switch(mode) {\n        case QRMode.MODE_NUMBER    : return 14;\n        case QRMode.MODE_ALPHA_NUM : return 13;\n        case QRMode.MODE_8BIT_BYTE : return 16;\n        case QRMode.MODE_KANJI     : return 12;\n        default :\n          throw 'mode:' + mode;\n        }\n\n      } else {\n        throw 'type:' + type;\n      }\n    };\n\n    _this.getLostPoint = function(qrcode) {\n\n      var moduleCount = qrcode.getModuleCount();\n\n      var lostPoint = 0;\n\n      // LEVEL1\n\n      for (var row = 0; row &lt; moduleCount; row += 1) {\n        for (var col = 0; col &lt; moduleCount; col += 1) {\n\n          var sameCount = 0;\n          var dark = qrcode.isDark(row, col);\n\n          for (var r = -1; r &lt;= 1; r += 1) {\n\n            if (row + r &lt; 0 || moduleCount &lt;= row + r) {\n              continue;\n            }\n\n            for (var c = -1; c &lt;= 1; c += 1) {\n\n              if (col + c &lt; 0 || moduleCount &lt;= col + c) {\n                continue;\n              }\n\n              if (r == 0 &amp;&amp; c == 0) {\n                continue;\n              }\n\n              if (dark == qrcode.isDark(row + r, col + c) ) {\n                sameCount += 1;\n              }\n            }\n          }\n\n          if (sameCount &gt; 5) {\n            lostPoint += (3 + sameCount - 5);\n          }\n        }\n      };\n\n      // LEVEL2\n\n      for (var row = 0; row &lt; moduleCount - 1; row += 1) {\n        for (var col = 0; col &lt; moduleCount - 1; col += 1) {\n          var count = 0;\n          if (qrcode.isDark(row, col) ) count += 1;\n          if (qrcode.isDark(row + 1, col) ) count += 1;\n          if (qrcode.isDark(row, col + 1) ) count += 1;\n          if (qrcode.isDark(row + 1, col + 1) ) count += 1;\n          if (count == 0 || count == 4) {\n            lostPoint += 3;\n          }\n        }\n      }\n\n      // LEVEL3\n\n      for (var row = 0; row &lt; moduleCount; row += 1) {\n        for (var col = 0; col &lt; moduleCount - 6; col += 1) {\n          if (qrcode.isDark(row, col)\n              &amp;&amp; !qrcode.isDark(row, col + 1)\n              &amp;&amp;  qrcode.isDark(row, col + 2)\n              &amp;&amp;  qrcode.isDark(row, col + 3)\n              &amp;&amp;  qrcode.isDark(row, col + 4)\n              &amp;&amp; !qrcode.isDark(row, col + 5)\n              &amp;&amp;  qrcode.isDark(row, col + 6) ) {\n            lostPoint += 40;\n          }\n        }\n      }\n\n      for (var col = 0; col &lt; moduleCount; col += 1) {\n        for (var row = 0; row &lt; moduleCount - 6; row += 1) {\n          if (qrcode.isDark(row, col)\n              &amp;&amp; !qrcode.isDark(row + 1, col)\n              &amp;&amp;  qrcode.isDark(row + 2, col)\n              &amp;&amp;  qrcode.isDark(row + 3, col)\n              &amp;&amp;  qrcode.isDark(row + 4, col)\n              &amp;&amp; !qrcode.isDark(row + 5, col)\n              &amp;&amp;  qrcode.isDark(row + 6, col) ) {\n            lostPoint += 40;\n          }\n        }\n      }\n\n      // LEVEL4\n\n      var darkCount = 0;\n\n      for (var col = 0; col &lt; moduleCount; col += 1) {\n        for (var row = 0; row &lt; moduleCount; row += 1) {\n          if (qrcode.isDark(row, col) ) {\n            darkCount += 1;\n          }\n        }\n      }\n\n      var ratio = Math.abs(100 * darkCount / moduleCount / moduleCount - 50) / 5;\n      lostPoint += ratio * 10;\n\n      return lostPoint;\n    };\n\n    return _this;\n  }();\n\n  //---------------------------------------------------------------------\n  // QRMath\n  //---------------------------------------------------------------------\n\n  var QRMath = function() {\n\n    var EXP_TABLE = new Array(256);\n    var LOG_TABLE = new Array(256);\n\n    // initialize tables\n    for (var i = 0; i &lt; 8; i += 1) {\n      EXP_TABLE[i] = 1 &lt;&lt; i;\n    }\n    for (var i = 8; i &lt; 256; i += 1) {\n      EXP_TABLE[i] = EXP_TABLE[i - 4]\n        ^ EXP_TABLE[i - 5]\n        ^ EXP_TABLE[i - 6]\n        ^ EXP_TABLE[i - 8];\n    }\n    for (var i = 0; i &lt; 255; i += 1) {\n      LOG_TABLE[EXP_TABLE[i] ] = i;\n    }\n\n    var _this = {};\n\n    _this.glog = function(n) {\n\n      if (n &lt; 1) {\n        throw 'glog(' + n + ')';\n      }\n\n      return LOG_TABLE[n];\n    };\n\n    _this.gexp = function(n) {\n\n      while (n &lt; 0) {\n        n += 255;\n      }\n\n      while (n &gt;= 256) {\n        n -= 255;\n      }\n\n      return EXP_TABLE[n];\n    };\n\n    return _this;\n  }();\n\n  //---------------------------------------------------------------------\n  // qrPolynomial\n  //---------------------------------------------------------------------\n\n  function qrPolynomial(num, shift) {\n\n    if (typeof num.length == 'undefined') {\n      throw num.length + '/' + shift;\n    }\n\n    var _num = function() {\n      var offset = 0;\n      while (offset &lt; num.length &amp;&amp; num[offset] == 0) {\n        offset += 1;\n      }\n      var _num = new Array(num.length - offset + shift);\n      for (var i = 0; i &lt; num.length - offset; i += 1) {\n        _num[i] = num[i + offset];\n      }\n      return _num;\n    }();\n\n    var _this = {};\n\n    _this.getAt = function(index) {\n      return _num[index];\n    };\n\n    _this.getLength = function() {\n      return _num.length;\n    };\n\n    _this.multiply = function(e) {\n\n      var num = new Array(_this.getLength() + e.getLength() - 1);\n\n      for (var i = 0; i &lt; _this.getLength(); i += 1) {\n        for (var j = 0; j &lt; e.getLength(); j += 1) {\n          num[i + j] ^= QRMath.gexp(QRMath.glog(_this.getAt(i) ) + QRMath.glog(e.getAt(j) ) );\n        }\n      }\n\n      return qrPolynomial(num, 0);\n    };\n\n    _this.mod = function(e) {\n\n      if (_this.getLength() - e.getLength() &lt; 0) {\n        return _this;\n      }\n\n      var ratio = QRMath.glog(_this.getAt(0) ) - QRMath.glog(e.getAt(0) );\n\n      var num = new Array(_this.getLength() );\n      for (var i = 0; i &lt; _this.getLength(); i += 1) {\n        num[i] = _this.getAt(i);\n      }\n\n      for (var i = 0; i &lt; e.getLength(); i += 1) {\n        num[i] ^= QRMath.gexp(QRMath.glog(e.getAt(i) ) + ratio);\n      }\n\n      // recursive call\n      return qrPolynomial(num, 0).mod(e);\n    };\n\n    return _this;\n  };\n\n  //---------------------------------------------------------------------\n  // QRRSBlock\n  //---------------------------------------------------------------------\n\n  var QRRSBlock = function() {\n\n    var RS_BLOCK_TABLE = [\n\n      // L\n      // M\n      // Q\n      // H\n\n      // 1\n      [1, 26, 19],\n      [1, 26, 16],\n      [1, 26, 13],\n      [1, 26, 9],\n\n      // 2\n      [1, 44, 34],\n      [1, 44, 28],\n      [1, 44, 22],\n      [1, 44, 16],\n\n      // 3\n      [1, 70, 55],\n      [1, 70, 44],\n      [2, 35, 17],\n      [2, 35, 13],\n\n      // 4\n      [1, 100, 80],\n      [2, 50, 32],\n      [2, 50, 24],\n      [4, 25, 9],\n\n      // 5\n      [1, 134, 108],\n      [2, 67, 43],\n      [2, 33, 15, 2, 34, 16],\n      [2, 33, 11, 2, 34, 12],\n\n      // 6\n      [2, 86, 68],\n      [4, 43, 27],\n      [4, 43, 19],\n      [4, 43, 15],\n\n      // 7\n      [2, 98, 78],\n      [4, 49, 31],\n      [2, 32, 14, 4, 33, 15],\n      [4, 39, 13, 1, 40, 14],\n\n      // 8\n      [2, 121, 97],\n      [2, 60, 38, 2, 61, 39],\n      [4, 40, 18, 2, 41, 19],\n      [4, 40, 14, 2, 41, 15],\n\n      // 9\n      [2, 146, 116],\n      [3, 58, 36, 2, 59, 37],\n      [4, 36, 16, 4, 37, 17],\n      [4, 36, 12, 4, 37, 13],\n\n      // 10\n      [2, 86, 68, 2, 87, 69],\n      [4, 69, 43, 1, 70, 44],\n      [6, 43, 19, 2, 44, 20],\n      [6, 43, 15, 2, 44, 16],\n\n      // 11\n      [4, 101, 81],\n      [1, 80, 50, 4, 81, 51],\n      [4, 50, 22, 4, 51, 23],\n      [3, 36, 12, 8, 37, 13],\n\n      // 12\n      [2, 116, 92, 2, 117, 93],\n      [6, 58, 36, 2, 59, 37],\n      [4, 46, 20, 6, 47, 21],\n      [7, 42, 14, 4, 43, 15],\n\n      // 13\n      [4, 133, 107],\n      [8, 59, 37, 1, 60, 38],\n      [8, 44, 20, 4, 45, 21],\n      [12, 33, 11, 4, 34, 12],\n\n      // 14\n      [3, 145, 115, 1, 146, 116],\n      [4, 64, 40, 5, 65, 41],\n      [11, 36, 16, 5, 37, 17],\n      [11, 36, 12, 5, 37, 13],\n\n      // 15\n      [5, 109, 87, 1, 110, 88],\n      [5, 65, 41, 5, 66, 42],\n      [5, 54, 24, 7, 55, 25],\n      [11, 36, 12, 7, 37, 13],\n\n      // 16\n      [5, 122, 98, 1, 123, 99],\n      [7, 73, 45, 3, 74, 46],\n      [15, 43, 19, 2, 44, 20],\n      [3, 45, 15, 13, 46, 16],\n\n      // 17\n      [1, 135, 107, 5, 136, 108],\n      [10, 74, 46, 1, 75, 47],\n      [1, 50, 22, 15, 51, 23],\n      [2, 42, 14, 17, 43, 15],\n\n      // 18\n      [5, 150, 120, 1, 151, 121],\n      [9, 69, 43, 4, 70, 44],\n      [17, 50, 22, 1, 51, 23],\n      [2, 42, 14, 19, 43, 15],\n\n      // 19\n      [3, 141, 113, 4, 142, 114],\n      [3, 70, 44, 11, 71, 45],\n      [17, 47, 21, 4, 48, 22],\n      [9, 39, 13, 16, 40, 14],\n\n      // 20\n      [3, 135, 107, 5, 136, 108],\n      [3, 67, 41, 13, 68, 42],\n      [15, 54, 24, 5, 55, 25],\n      [15, 43, 15, 10, 44, 16],\n\n      // 21\n      [4, 144, 116, 4, 145, 117],\n      [17, 68, 42],\n      [17, 50, 22, 6, 51, 23],\n      [19, 46, 16, 6, 47, 17],\n\n      // 22\n      [2, 139, 111, 7, 140, 112],\n      [17, 74, 46],\n      [7, 54, 24, 16, 55, 25],\n      [34, 37, 13],\n\n      // 23\n      [4, 151, 121, 5, 152, 122],\n      [4, 75, 47, 14, 76, 48],\n      [11, 54, 24, 14, 55, 25],\n      [16, 45, 15, 14, 46, 16],\n\n      // 24\n      [6, 147, 117, 4, 148, 118],\n      [6, 73, 45, 14, 74, 46],\n      [11, 54, 24, 16, 55, 25],\n      [30, 46, 16, 2, 47, 17],\n\n      // 25\n      [8, 132, 106, 4, 133, 107],\n      [8, 75, 47, 13, 76, 48],\n      [7, 54, 24, 22, 55, 25],\n      [22, 45, 15, 13, 46, 16],\n\n      // 26\n      [10, 142, 114, 2, 143, 115],\n      [19, 74, 46, 4, 75, 47],\n      [28, 50, 22, 6, 51, 23],\n      [33, 46, 16, 4, 47, 17],\n\n      // 27\n      [8, 152, 122, 4, 153, 123],\n      [22, 73, 45, 3, 74, 46],\n      [8, 53, 23, 26, 54, 24],\n      [12, 45, 15, 28, 46, 16],\n\n      // 28\n      [3, 147, 117, 10, 148, 118],\n      [3, 73, 45, 23, 74, 46],\n      [4, 54, 24, 31, 55, 25],\n      [11, 45, 15, 31, 46, 16],\n\n      // 29\n      [7, 146, 116, 7, 147, 117],\n      [21, 73, 45, 7, 74, 46],\n      [1, 53, 23, 37, 54, 24],\n      [19, 45, 15, 26, 46, 16],\n\n      // 30\n      [5, 145, 115, 10, 146, 116],\n      [19, 75, 47, 10, 76, 48],\n      [15, 54, 24, 25, 55, 25],\n      [23, 45, 15, 25, 46, 16],\n\n      // 31\n      [13, 145, 115, 3, 146, 116],\n      [2, 74, 46, 29, 75, 47],\n      [42, 54, 24, 1, 55, 25],\n      [23, 45, 15, 28, 46, 16],\n\n      // 32\n      [17, 145, 115],\n      [10, 74, 46, 23, 75, 47],\n      [10, 54, 24, 35, 55, 25],\n      [19, 45, 15, 35, 46, 16],\n\n      // 33\n      [17, 145, 115, 1, 146, 116],\n      [14, 74, 46, 21, 75, 47],\n      [29, 54, 24, 19, 55, 25],\n      [11, 45, 15, 46, 46, 16],\n\n      // 34\n      [13, 145, 115, 6, 146, 116],\n      [14, 74, 46, 23, 75, 47],\n      [44, 54, 24, 7, 55, 25],\n      [59, 46, 16, 1, 47, 17],\n\n      // 35\n      [12, 151, 121, 7, 152, 122],\n      [12, 75, 47, 26, 76, 48],\n      [39, 54, 24, 14, 55, 25],\n      [22, 45, 15, 41, 46, 16],\n\n      // 36\n      [6, 151, 121, 14, 152, 122],\n      [6, 75, 47, 34, 76, 48],\n      [46, 54, 24, 10, 55, 25],\n      [2, 45, 15, 64, 46, 16],\n\n      // 37\n      [17, 152, 122, 4, 153, 123],\n      [29, 74, 46, 14, 75, 47],\n      [49, 54, 24, 10, 55, 25],\n      [24, 45, 15, 46, 46, 16],\n\n      // 38\n      [4, 152, 122, 18, 153, 123],\n      [13, 74, 46, 32, 75, 47],\n      [48, 54, 24, 14, 55, 25],\n      [42, 45, 15, 32, 46, 16],\n\n      // 39\n      [20, 147, 117, 4, 148, 118],\n      [40, 75, 47, 7, 76, 48],\n      [43, 54, 24, 22, 55, 25],\n      [10, 45, 15, 67, 46, 16],\n\n      // 40\n      [19, 148, 118, 6, 149, 119],\n      [18, 75, 47, 31, 76, 48],\n      [34, 54, 24, 34, 55, 25],\n      [20, 45, 15, 61, 46, 16]\n    ];\n\n    var qrRSBlock = function(totalCount, dataCount) {\n      var _this = {};\n      _this.totalCount = totalCount;\n      _this.dataCount = dataCount;\n      return _this;\n    };\n\n    var _this = {};\n\n    var getRsBlockTable = function(typeNumber, errorCorrectionLevel) {\n\n      switch(errorCorrectionLevel) {\n      case QRErrorCorrectionLevel.L :\n        return RS_BLOCK_TABLE[(typeNumber - 1) * 4 + 0];\n      case QRErrorCorrectionLevel.M :\n        return RS_BLOCK_TABLE[(typeNumber - 1) * 4 + 1];\n      case QRErrorCorrectionLevel.Q :\n        return RS_BLOCK_TABLE[(typeNumber - 1) * 4 + 2];\n      case QRErrorCorrectionLevel.H :\n        return RS_BLOCK_TABLE[(typeNumber - 1) * 4 + 3];\n      default :\n        return undefined;\n      }\n    };\n\n    _this.getRSBlocks = function(typeNumber, errorCorrectionLevel) {\n\n      var rsBlock = getRsBlockTable(typeNumber, errorCorrectionLevel);\n\n      if (typeof rsBlock == 'undefined') {\n        throw 'bad rs block @ typeNumber:' + typeNumber +\n            '/errorCorrectionLevel:' + errorCorrectionLevel;\n      }\n\n      var length = rsBlock.length / 3;\n\n      var list = [];\n\n      for (var i = 0; i &lt; length; i += 1) {\n\n        var count = rsBlock[i * 3 + 0];\n        var totalCount = rsBlock[i * 3 + 1];\n        var dataCount = rsBlock[i * 3 + 2];\n\n        for (var j = 0; j &lt; count; j += 1) {\n          list.push(qrRSBlock(totalCount, dataCount) );\n        }\n      }\n\n      return list;\n    };\n\n    return _this;\n  }();\n\n  //---------------------------------------------------------------------\n  // qrBitBuffer\n  //---------------------------------------------------------------------\n\n  var qrBitBuffer = function() {\n\n    var _buffer = [];\n    var _length = 0;\n\n    var _this = {};\n\n    _this.getBuffer = function() {\n      return _buffer;\n    };\n\n    _this.getAt = function(index) {\n      var bufIndex = Math.floor(index / 8);\n      return ( (_buffer[bufIndex] &gt;&gt;&gt; (7 - index % 8) ) &amp; 1) == 1;\n    };\n\n    _this.put = function(num, length) {\n      for (var i = 0; i &lt; length; i += 1) {\n        _this.putBit( ( (num &gt;&gt;&gt; (length - i - 1) ) &amp; 1) == 1);\n      }\n    };\n\n    _this.getLengthInBits = function() {\n      return _length;\n    };\n\n    _this.putBit = function(bit) {\n\n      var bufIndex = Math.floor(_length / 8);\n      if (_buffer.length &lt;= bufIndex) {\n        _buffer.push(0);\n      }\n\n      if (bit) {\n        _buffer[bufIndex] |= (0x80 &gt;&gt;&gt; (_length % 8) );\n      }\n\n      _length += 1;\n    };\n\n    return _this;\n  };\n\n  //---------------------------------------------------------------------\n  // qrNumber\n  //---------------------------------------------------------------------\n\n  var qrNumber = function(data) {\n\n    var _mode = QRMode.MODE_NUMBER;\n    var _data = data;\n\n    var _this = {};\n\n    _this.getMode = function() {\n      return _mode;\n    };\n\n    _this.getLength = function(buffer) {\n      return _data.length;\n    };\n\n    _this.write = function(buffer) {\n\n      var data = _data;\n\n      var i = 0;\n\n      while (i + 2 &lt; data.length) {\n        buffer.put(strToNum(data.substring(i, i + 3) ), 10);\n        i += 3;\n      }\n\n      if (i &lt; data.length) {\n        if (data.length - i == 1) {\n          buffer.put(strToNum(data.substring(i, i + 1) ), 4);\n        } else if (data.length - i == 2) {\n          buffer.put(strToNum(data.substring(i, i + 2) ), 7);\n        }\n      }\n    };\n\n    var strToNum = function(s) {\n      var num = 0;\n      for (var i = 0; i &lt; s.length; i += 1) {\n        num = num * 10 + chatToNum(s.charAt(i) );\n      }\n      return num;\n    };\n\n    var chatToNum = function(c) {\n      if ('0' &lt;= c &amp;&amp; c &lt;= '9') {\n        return c.charCodeAt(0) - '0'.charCodeAt(0);\n      }\n      throw 'illegal char :' + c;\n    };\n\n    return _this;\n  };\n\n  //---------------------------------------------------------------------\n  // qrAlphaNum\n  //---------------------------------------------------------------------\n\n  var qrAlphaNum = function(data) {\n\n    var _mode = QRMode.MODE_ALPHA_NUM;\n    var _data = data;\n\n    var _this = {};\n\n    _this.getMode = function() {\n      return _mode;\n    };\n\n    _this.getLength = function(buffer) {\n      return _data.length;\n    };\n\n    _this.write = function(buffer) {\n\n      var s = _data;\n\n      var i = 0;\n\n      while (i + 1 &lt; s.length) {\n        buffer.put(\n          getCode(s.charAt(i) ) * 45 +\n          getCode(s.charAt(i + 1) ), 11);\n        i += 2;\n      }\n\n      if (i &lt; s.length) {\n        buffer.put(getCode(s.charAt(i) ), 6);\n      }\n    };\n\n    var getCode = function(c) {\n\n      if ('0' &lt;= c &amp;&amp; c &lt;= '9') {\n        return c.charCodeAt(0) - '0'.charCodeAt(0);\n      } else if ('A' &lt;= c &amp;&amp; c &lt;= 'Z') {\n        return c.charCodeAt(0) - 'A'.charCodeAt(0) + 10;\n      } else {\n        switch (c) {\n        case ' ' : return 36;\n        case '$' : return 37;\n        case '%' : return 38;\n        case '*' : return 39;\n        case '+' : return 40;\n        case '-' : return 41;\n        case '.' : return 42;\n        case '/' : return 43;\n        case ':' : return 44;\n        default :\n          throw 'illegal char :' + c;\n        }\n      }\n    };\n\n    return _this;\n  };\n\n  //---------------------------------------------------------------------\n  // qr8BitByte\n  //---------------------------------------------------------------------\n\n  var qr8BitByte = function(data) {\n\n    var _mode = QRMode.MODE_8BIT_BYTE;\n    var _data = data;\n    var _bytes = qrcode.stringToBytes(data);\n\n    var _this = {};\n\n    _this.getMode = function() {\n      return _mode;\n    };\n\n    _this.getLength = function(buffer) {\n      return _bytes.length;\n    };\n\n    _this.write = function(buffer) {\n      for (var i = 0; i &lt; _bytes.length; i += 1) {\n        buffer.put(_bytes[i], 8);\n      }\n    };\n\n    return _this;\n  };\n\n  //---------------------------------------------------------------------\n  // qrKanji\n  //---------------------------------------------------------------------\n\n  var qrKanji = function(data) {\n\n    var _mode = QRMode.MODE_KANJI;\n    var _data = data;\n\n    var stringToBytes = qrcode.stringToBytesFuncs['SJIS'];\n    if (!stringToBytes) {\n      throw 'sjis not supported.';\n    }\n    !function(c, code) {\n      // self test for sjis support.\n      var test = stringToBytes(c);\n      if (test.length != 2 || ( (test[0] &lt;&lt; 8) | test[1]) != code) {\n        throw 'sjis not supported.';\n      }\n    }('\\u53cb', 0x9746);\n\n    var _bytes = stringToBytes(data);\n\n    var _this = {};\n\n    _this.getMode = function() {\n      return _mode;\n    };\n\n    _this.getLength = function(buffer) {\n      return ~~(_bytes.length / 2);\n    };\n\n    _this.write = function(buffer) {\n\n      var data = _bytes;\n\n      var i = 0;\n\n      while (i + 1 &lt; data.length) {\n\n        var c = ( (0xff &amp; data[i]) &lt;&lt; 8) | (0xff &amp; data[i + 1]);\n\n        if (0x8140 &lt;= c &amp;&amp; c &lt;= 0x9FFC) {\n          c -= 0x8140;\n        } else if (0xE040 &lt;= c &amp;&amp; c &lt;= 0xEBBF) {\n          c -= 0xC140;\n        } else {\n          throw 'illegal char at ' + (i + 1) + '/' + c;\n        }\n\n        c = ( (c &gt;&gt;&gt; 8) &amp; 0xff) * 0xC0 + (c &amp; 0xff);\n\n        buffer.put(c, 13);\n\n        i += 2;\n      }\n\n      if (i &lt; data.length) {\n        throw 'illegal char at ' + (i + 1);\n      }\n    };\n\n    return _this;\n  };\n\n  //=====================================================================\n  // GIF Support etc.\n  //\n\n  //---------------------------------------------------------------------\n  // byteArrayOutputStream\n  //---------------------------------------------------------------------\n\n  var byteArrayOutputStream = function() {\n\n    var _bytes = [];\n\n    var _this = {};\n\n    _this.writeByte = function(b) {\n      _bytes.push(b &amp; 0xff);\n    };\n\n    _this.writeShort = function(i) {\n      _this.writeByte(i);\n      _this.writeByte(i &gt;&gt;&gt; 8);\n    };\n\n    _this.writeBytes = function(b, off, len) {\n      off = off || 0;\n      len = len || b.length;\n      for (var i = 0; i &lt; len; i += 1) {\n        _this.writeByte(b[i + off]);\n      }\n    };\n\n    _this.writeString = function(s) {\n      for (var i = 0; i &lt; s.length; i += 1) {\n        _this.writeByte(s.charCodeAt(i) );\n      }\n    };\n\n    _this.toByteArray = function() {\n      return _bytes;\n    };\n\n    _this.toString = function() {\n      var s = '';\n      s += '[';\n      for (var i = 0; i &lt; _bytes.length; i += 1) {\n        if (i &gt; 0) {\n          s += ',';\n        }\n        s += _bytes[i];\n      }\n      s += ']';\n      return s;\n    };\n\n    return _this;\n  };\n\n  //---------------------------------------------------------------------\n  // base64EncodeOutputStream\n  //---------------------------------------------------------------------\n\n  var base64EncodeOutputStream = function() {\n\n    var _buffer = 0;\n    var _buflen = 0;\n    var _length = 0;\n    var _base64 = '';\n\n    var _this = {};\n\n    var writeEncoded = function(b) {\n      _base64 += String.fromCharCode(encode(b &amp; 0x3f) );\n    };\n\n    var encode = function(n) {\n      if (n &lt; 0) {\n        // error.\n      } else if (n &lt; 26) {\n        return 0x41 + n;\n      } else if (n &lt; 52) {\n        return 0x61 + (n - 26);\n      } else if (n &lt; 62) {\n        return 0x30 + (n - 52);\n      } else if (n == 62) {\n        return 0x2b;\n      } else if (n == 63) {\n        return 0x2f;\n      }\n      throw 'n:' + n;\n    };\n\n    _this.writeByte = function(n) {\n\n      _buffer = (_buffer &lt;&lt; 8) | (n &amp; 0xff);\n      _buflen += 8;\n      _length += 1;\n\n      while (_buflen &gt;= 6) {\n        writeEncoded(_buffer &gt;&gt;&gt; (_buflen - 6) );\n        _buflen -= 6;\n      }\n    };\n\n    _this.flush = function() {\n\n      if (_buflen &gt; 0) {\n        writeEncoded(_buffer &lt;&lt; (6 - _buflen) );\n        _buffer = 0;\n        _buflen = 0;\n      }\n\n      if (_length % 3 != 0) {\n        // padding\n        var padlen = 3 - _length % 3;\n        for (var i = 0; i &lt; padlen; i += 1) {\n          _base64 += '=';\n        }\n      }\n    };\n\n    _this.toString = function() {\n      return _base64;\n    };\n\n    return _this;\n  };\n\n  //---------------------------------------------------------------------\n  // base64DecodeInputStream\n  //---------------------------------------------------------------------\n\n  var base64DecodeInputStream = function(str) {\n\n    var _str = str;\n    var _pos = 0;\n    var _buffer = 0;\n    var _buflen = 0;\n\n    var _this = {};\n\n    _this.read = function() {\n\n      while (_buflen &lt; 8) {\n\n        if (_pos &gt;= _str.length) {\n          if (_buflen == 0) {\n            return -1;\n          }\n          throw 'unexpected end of file./' + _buflen;\n        }\n\n        var c = _str.charAt(_pos);\n        _pos += 1;\n\n        if (c == '=') {\n          _buflen = 0;\n          return -1;\n        } else if (c.match(/^\\s$/) ) {\n          // ignore if whitespace.\n          continue;\n        }\n\n        _buffer = (_buffer &lt;&lt; 6) | decode(c.charCodeAt(0) );\n        _buflen += 6;\n      }\n\n      var n = (_buffer &gt;&gt;&gt; (_buflen - 8) ) &amp; 0xff;\n      _buflen -= 8;\n      return n;\n    };\n\n    var decode = function(c) {\n      if (0x41 &lt;= c &amp;&amp; c &lt;= 0x5a) {\n        return c - 0x41;\n      } else if (0x61 &lt;= c &amp;&amp; c &lt;= 0x7a) {\n        return c - 0x61 + 26;\n      } else if (0x30 &lt;= c &amp;&amp; c &lt;= 0x39) {\n        return c - 0x30 + 52;\n      } else if (c == 0x2b) {\n        return 62;\n      } else if (c == 0x2f) {\n        return 63;\n      } else {\n        throw 'c:' + c;\n      }\n    };\n\n    return _this;\n  };\n\n  //---------------------------------------------------------------------\n  // gifImage (B/W)\n  //---------------------------------------------------------------------\n\n  var gifImage = function(width, height) {\n\n    var _width = width;\n    var _height = height;\n    var _data = new Array(width * height);\n\n    var _this = {};\n\n    _this.setPixel = function(x, y, pixel) {\n      _data[y * _width + x] = pixel;\n    };\n\n    _this.write = function(out) {\n\n      //---------------------------------\n      // GIF Signature\n\n      out.writeString('GIF87a');\n\n      //---------------------------------\n      // Screen Descriptor\n\n      out.writeShort(_width);\n      out.writeShort(_height);\n\n      out.writeByte(0x80); // 2bit\n      out.writeByte(0);\n      out.writeByte(0);\n\n      //---------------------------------\n      // Global Color Map\n\n      // black\n      out.writeByte(0x00);\n      out.writeByte(0x00);\n      out.writeByte(0x00);\n\n      // white\n      out.writeByte(0xff);\n      out.writeByte(0xff);\n      out.writeByte(0xff);\n\n      //---------------------------------\n      // Image Descriptor\n\n      out.writeString(',');\n      out.writeShort(0);\n      out.writeShort(0);\n      out.writeShort(_width);\n      out.writeShort(_height);\n      out.writeByte(0);\n\n      //---------------------------------\n      // Local Color Map\n\n      //---------------------------------\n      // Raster Data\n\n      var lzwMinCodeSize = 2;\n      var raster = getLZWRaster(lzwMinCodeSize);\n\n      out.writeByte(lzwMinCodeSize);\n\n      var offset = 0;\n\n      while (raster.length - offset &gt; 255) {\n        out.writeByte(255);\n        out.writeBytes(raster, offset, 255);\n        offset += 255;\n      }\n\n      out.writeByte(raster.length - offset);\n      out.writeBytes(raster, offset, raster.length - offset);\n      out.writeByte(0x00);\n\n      //---------------------------------\n      // GIF Terminator\n      out.writeString(';');\n    };\n\n    var bitOutputStream = function(out) {\n\n      var _out = out;\n      var _bitLength = 0;\n      var _bitBuffer = 0;\n\n      var _this = {};\n\n      _this.write = function(data, length) {\n\n        if ( (data &gt;&gt;&gt; length) != 0) {\n          throw 'length over';\n        }\n\n        while (_bitLength + length &gt;= 8) {\n          _out.writeByte(0xff &amp; ( (data &lt;&lt; _bitLength) | _bitBuffer) );\n          length -= (8 - _bitLength);\n          data &gt;&gt;&gt;= (8 - _bitLength);\n          _bitBuffer = 0;\n          _bitLength = 0;\n        }\n\n        _bitBuffer = (data &lt;&lt; _bitLength) | _bitBuffer;\n        _bitLength = _bitLength + length;\n      };\n\n      _this.flush = function() {\n        if (_bitLength &gt; 0) {\n          _out.writeByte(_bitBuffer);\n        }\n      };\n\n      return _this;\n    };\n\n    var getLZWRaster = function(lzwMinCodeSize) {\n\n      var clearCode = 1 &lt;&lt; lzwMinCodeSize;\n      var endCode = (1 &lt;&lt; lzwMinCodeSize) + 1;\n      var bitLength = lzwMinCodeSize + 1;\n\n      // Setup LZWTable\n      var table = lzwTable();\n\n      for (var i = 0; i &lt; clearCode; i += 1) {\n        table.add(String.fromCharCode(i) );\n      }\n      table.add(String.fromCharCode(clearCode) );\n      table.add(String.fromCharCode(endCode) );\n\n      var byteOut = byteArrayOutputStream();\n      var bitOut = bitOutputStream(byteOut);\n\n      // clear code\n      bitOut.write(clearCode, bitLength);\n\n      var dataIndex = 0;\n\n      var s = String.fromCharCode(_data[dataIndex]);\n      dataIndex += 1;\n\n      while (dataIndex &lt; _data.length) {\n\n        var c = String.fromCharCode(_data[dataIndex]);\n        dataIndex += 1;\n\n        if (table.contains(s + c) ) {\n\n          s = s + c;\n\n        } else {\n\n          bitOut.write(table.indexOf(s), bitLength);\n\n          if (table.size() &lt; 0xfff) {\n\n            if (table.size() == (1 &lt;&lt; bitLength) ) {\n              bitLength += 1;\n            }\n\n            table.add(s + c);\n          }\n\n          s = c;\n        }\n      }\n\n      bitOut.write(table.indexOf(s), bitLength);\n\n      // end code\n      bitOut.write(endCode, bitLength);\n\n      bitOut.flush();\n\n      return byteOut.toByteArray();\n    };\n\n    var lzwTable = function() {\n\n      var _map = {};\n      var _size = 0;\n\n      var _this = {};\n\n      _this.add = function(key) {\n        if (_this.contains(key) ) {\n          throw 'dup key:' + key;\n        }\n        _map[key] = _size;\n        _size += 1;\n      };\n\n      _this.size = function() {\n        return _size;\n      };\n\n      _this.indexOf = function(key) {\n        return _map[key];\n      };\n\n      _this.contains = function(key) {\n        return typeof _map[key] != 'undefined';\n      };\n\n      return _this;\n    };\n\n    return _this;\n  };\n\n  var createDataURL = function(width, height, getPixel) {\n    var gif = gifImage(width, height);\n    for (var y = 0; y &lt; height; y += 1) {\n      for (var x = 0; x &lt; width; x += 1) {\n        gif.setPixel(x, y, getPixel(x, y) );\n      }\n    }\n\n    var b = byteArrayOutputStream();\n    gif.write(b);\n\n    var base64 = base64EncodeOutputStream();\n    var bytes = b.toByteArray();\n    for (var i = 0; i &lt; bytes.length; i += 1) {\n      base64.writeByte(bytes[i]);\n    }\n    base64.flush();\n\n    return 'data:image/gif;base64,' + base64;\n  };\n\n  //---------------------------------------------------------------------\n  // returns qrcode function.\n\n  return qrcode;\n}();\n\n// multibyte support\n!function() {\n\n  qrcode.stringToBytesFuncs['UTF-8'] = function(s) {\n    // http://stackoverflow.com/questions/18729405/how-to-convert-utf8-string-to-byte-array\n    function toUTF8Array(str) {\n      var utf8 = [];\n      for (var i=0; i &lt; str.length; i++) {\n        var charcode = str.charCodeAt(i);\n        if (charcode &lt; 0x80) utf8.push(charcode);\n        else if (charcode &lt; 0x800) {\n          utf8.push(0xc0 | (charcode &gt;&gt; 6),\n              0x80 | (charcode &amp; 0x3f));\n        }\n        else if (charcode &lt; 0xd800 || charcode &gt;= 0xe000) {\n          utf8.push(0xe0 | (charcode &gt;&gt; 12),\n              0x80 | ((charcode&gt;&gt;6) &amp; 0x3f),\n              0x80 | (charcode &amp; 0x3f));\n        }\n        // surrogate pair\n        else {\n          i++;\n          // UTF-16 encodes 0x10000-0x10FFFF by\n          // subtracting 0x10000 and splitting the\n          // 20 bits of 0x0-0xFFFFF into two halves\n          charcode = 0x10000 + (((charcode &amp; 0x3ff)&lt;&lt;10)\n            | (str.charCodeAt(i) &amp; 0x3ff));\n          utf8.push(0xf0 | (charcode &gt;&gt;18),\n              0x80 | ((charcode&gt;&gt;12) &amp; 0x3f),\n              0x80 | ((charcode&gt;&gt;6) &amp; 0x3f),\n              0x80 | (charcode &amp; 0x3f));\n        }\n      }\n      return utf8;\n    }\n    return toUTF8Array(s);\n  };\n\n}();\n\n(function (factory) {\n  if (typeof define === 'function' &amp;&amp; define.amd) {\n      define([], factory);\n  } else if (typeof exports === 'object') {\n      module.exports = factory();\n  }\n}(function () {\n    return qrcode;\n}));\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) =&gt; {\n\tvar getter = module &amp;&amp; module.__esModule ?\n\t\t() =&gt; (module['default']) :\n\t\t() =&gt; (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) =&gt; {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) &amp;&amp; !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) =&gt; (Object.prototype.hasOwnProperty.call(obj, prop))","import { Mode } from \"../types\";\n\ninterface Modes {\n  [key: string]: Mode;\n}\n\nexport default {\n  numeric: \"Numeric\",\n  alphanumeric: \"Alphanumeric\",\n  byte: \"Byte\",\n  kanji: \"Kanji\"\n} as Modes;\n","import { UnknownObject } from \"../types\";\n\nconst isObject = (obj: Record&lt;string, unknown&gt;): boolean =&gt; !!obj &amp;&amp; typeof obj === \"object\" &amp;&amp; !Array.isArray(obj);\n\nexport default function mergeDeep(target: UnknownObject, ...sources: UnknownObject[]): UnknownObject {\n  if (!sources.length) return target;\n  const source = sources.shift();\n  if (source === undefined || !isObject(target) || !isObject(source)) return target;\n  target = { ...target };\n  Object.keys(source).forEach((key: string): void =&gt; {\n    const targetValue = target[key];\n    const sourceValue = source[key];\n\n    if (Array.isArray(targetValue) &amp;&amp; Array.isArray(sourceValue)) {\n      target[key] = sourceValue;\n    } else if (isObject(targetValue) &amp;&amp; isObject(sourceValue)) {\n      target[key] = mergeDeep(Object.assign({}, targetValue), sourceValue);\n    } else {\n      target[key] = sourceValue;\n    }\n  });\n\n  return mergeDeep(target, ...sources);\n}\n","export default function downloadURI(uri: string, name: string): void {\n  const link = document.createElement(\"a\");\n  link.download = name;\n  link.href = uri;\n  document.body.appendChild(link);\n  link.click();\n  document.body.removeChild(link);\n}\n","interface ErrorCorrectionPercents {\n  [key: string]: number;\n}\n\nexport default {\n  L: 0.07,\n  M: 0.15,\n  Q: 0.25,\n  H: 0.3\n} as ErrorCorrectionPercents;\n","import dotTypes from \"../../constants/dotTypes\";\nimport { DotType, GetNeighbor, DrawArgs, BasicFigureDrawArgs, RotateFigureArgs, Window } from \"../../types\";\n\nexport default class QRDot {\n  _element?: SVGElement;\n  _svg: SVGElement;\n  _type: DotType;\n  _window: Window;\n\n  constructor({ svg, type, window }: { svg: SVGElement; type: DotType; window: Window }) {\n    this._svg = svg;\n    this._type = type;\n    this._window = window;\n  }\n\n  draw(x: number, y: number, size: number, getNeighbor: GetNeighbor): void {\n    const type = this._type;\n    let drawFunction;\n\n    switch (type) {\n      case dotTypes.dots:\n        drawFunction = this._drawDot;\n        break;\n      case dotTypes.classy:\n        drawFunction = this._drawClassy;\n        break;\n      case dotTypes.classyRounded:\n        drawFunction = this._drawClassyRounded;\n        break;\n      case dotTypes.rounded:\n        drawFunction = this._drawRounded;\n        break;\n      case dotTypes.extraRounded:\n        drawFunction = this._drawExtraRounded;\n        break;\n      case dotTypes.square:\n      default:\n        drawFunction = this._drawSquare;\n    }\n\n    drawFunction.call(this, { x, y, size, getNeighbor });\n  }\n\n  _rotateFigure({ x, y, size, rotation = 0, draw }: RotateFigureArgs): void {\n    const cx = x + size / 2;\n    const cy = y + size / 2;\n\n    draw();\n    this._element?.setAttribute(\"transform\", `rotate(${(180 * rotation) / Math.PI},${cx},${cy})`);\n  }\n\n  _basicDot(args: BasicFigureDrawArgs): void {\n    const { size, x, y } = args;\n\n    this._rotateFigure({\n      ...args,\n      draw: () =&gt; {\n        this._element = this._window.document.createElementNS(\"http://www.w3.org/2000/svg\", \"circle\");\n        this._element.setAttribute(\"cx\", String(x + size / 2));\n        this._element.setAttribute(\"cy\", String(y + size / 2));\n        this._element.setAttribute(\"r\", String(size / 2));\n      }\n    });\n  }\n\n  _basicSquare(args: BasicFigureDrawArgs): void {\n    const { size, x, y } = args;\n\n    this._rotateFigure({\n      ...args,\n      draw: () =&gt; {\n        this._element = this._window.document.createElementNS(\"http://www.w3.org/2000/svg\", \"rect\");\n        this._element.setAttribute(\"x\", String(x));\n        this._element.setAttribute(\"y\", String(y));\n        this._element.setAttribute(\"width\", String(size));\n        this._element.setAttribute(\"height\", String(size));\n      }\n    });\n  }\n\n  //if rotation === 0 - right side is rounded\n  _basicSideRounded(args: BasicFigureDrawArgs): void {\n    const { size, x, y } = args;\n\n    this._rotateFigure({\n      ...args,\n      draw: () =&gt; {\n        this._element = this._window.document.createElementNS(\"http://www.w3.org/2000/svg\", \"path\");\n        this._element.setAttribute(\n          \"d\",\n          `M ${x} ${y}` + //go to top left position\n            `v ${size}` + //draw line to left bottom corner\n            `h ${size / 2}` + //draw line to left bottom corner + half of size right\n            `a ${size / 2} ${size / 2}, 0, 0, 0, 0 ${-size}` // draw rounded corner\n        );\n      }\n    });\n  }\n\n  //if rotation === 0 - top right corner is rounded\n  _basicCornerRounded(args: BasicFigureDrawArgs): void {\n    const { size, x, y } = args;\n\n    this._rotateFigure({\n      ...args,\n      draw: () =&gt; {\n        this._element = this._window.document.createElementNS(\"http://www.w3.org/2000/svg\", \"path\");\n        this._element.setAttribute(\n          \"d\",\n          `M ${x} ${y}` + //go to top left position\n            `v ${size}` + //draw line to left bottom corner\n            `h ${size}` + //draw line to right bottom corner\n            `v ${-size / 2}` + //draw line to right bottom corner + half of size top\n            `a ${size / 2} ${size / 2}, 0, 0, 0, ${-size / 2} ${-size / 2}` // draw rounded corner\n        );\n      }\n    });\n  }\n\n  //if rotation === 0 - top right corner is rounded\n  _basicCornerExtraRounded(args: BasicFigureDrawArgs): void {\n    const { size, x, y } = args;\n\n    this._rotateFigure({\n      ...args,\n      draw: () =&gt; {\n        this._element = this._window.document.createElementNS(\"http://www.w3.org/2000/svg\", \"path\");\n        this._element.setAttribute(\n          \"d\",\n          `M ${x} ${y}` + //go to top left position\n            `v ${size}` + //draw line to left bottom corner\n            `h ${size}` + //draw line to right bottom corner\n            `a ${size} ${size}, 0, 0, 0, ${-size} ${-size}` // draw rounded top right corner\n        );\n      }\n    });\n  }\n\n  //if rotation === 0 - left bottom and right top corners are rounded\n  _basicCornersRounded(args: BasicFigureDrawArgs): void {\n    const { size, x, y } = args;\n\n    this._rotateFigure({\n      ...args,\n      draw: () =&gt; {\n        this._element = this._window.document.createElementNS(\"http://www.w3.org/2000/svg\", \"path\");\n        this._element.setAttribute(\n          \"d\",\n          `M ${x} ${y}` + //go to left top position\n            `v ${size / 2}` + //draw line to left top corner + half of size bottom\n            `a ${size / 2} ${size / 2}, 0, 0, 0, ${size / 2} ${size / 2}` + // draw rounded left bottom corner\n            `h ${size / 2}` + //draw line to right bottom corner\n            `v ${-size / 2}` + //draw line to right bottom corner + half of size top\n            `a ${size / 2} ${size / 2}, 0, 0, 0, ${-size / 2} ${-size / 2}` // draw rounded right top corner\n        );\n      }\n    });\n  }\n\n  _drawDot({ x, y, size }: DrawArgs): void {\n    this._basicDot({ x, y, size, rotation: 0 });\n  }\n\n  _drawSquare({ x, y, size }: DrawArgs): void {\n    this._basicSquare({ x, y, size, rotation: 0 });\n  }\n\n  _drawRounded({ x, y, size, getNeighbor }: DrawArgs): void {\n    const leftNeighbor = getNeighbor ? +getNeighbor(-1, 0) : 0;\n    const rightNeighbor = getNeighbor ? +getNeighbor(1, 0) : 0;\n    const topNeighbor = getNeighbor ? +getNeighbor(0, -1) : 0;\n    const bottomNeighbor = getNeighbor ? +getNeighbor(0, 1) : 0;\n\n    const neighborsCount = leftNeighbor + rightNeighbor + topNeighbor + bottomNeighbor;\n\n    if (neighborsCount === 0) {\n      this._basicDot({ x, y, size, rotation: 0 });\n      return;\n    }\n\n    if (neighborsCount &gt; 2 || (leftNeighbor &amp;&amp; rightNeighbor) || (topNeighbor &amp;&amp; bottomNeighbor)) {\n      this._basicSquare({ x, y, size, rotation: 0 });\n      return;\n    }\n\n    if (neighborsCount === 2) {\n      let rotation = 0;\n\n      if (leftNeighbor &amp;&amp; topNeighbor) {\n        rotation = Math.PI / 2;\n      } else if (topNeighbor &amp;&amp; rightNeighbor) {\n        rotation = Math.PI;\n      } else if (rightNeighbor &amp;&amp; bottomNeighbor) {\n        rotation = -Math.PI / 2;\n      }\n\n      this._basicCornerRounded({ x, y, size, rotation });\n      return;\n    }\n\n    if (neighborsCount === 1) {\n      let rotation = 0;\n\n      if (topNeighbor) {\n        rotation = Math.PI / 2;\n      } else if (rightNeighbor) {\n        rotation = Math.PI;\n      } else if (bottomNeighbor) {\n        rotation = -Math.PI / 2;\n      }\n\n      this._basicSideRounded({ x, y, size, rotation });\n      return;\n    }\n  }\n\n  _drawExtraRounded({ x, y, size, getNeighbor }: DrawArgs): void {\n    const leftNeighbor = getNeighbor ? +getNeighbor(-1, 0) : 0;\n    const rightNeighbor = getNeighbor ? +getNeighbor(1, 0) : 0;\n    const topNeighbor = getNeighbor ? +getNeighbor(0, -1) : 0;\n    const bottomNeighbor = getNeighbor ? +getNeighbor(0, 1) : 0;\n\n    const neighborsCount = leftNeighbor + rightNeighbor + topNeighbor + bottomNeighbor;\n\n    if (neighborsCount === 0) {\n      this._basicDot({ x, y, size, rotation: 0 });\n      return;\n    }\n\n    if (neighborsCount &gt; 2 || (leftNeighbor &amp;&amp; rightNeighbor) || (topNeighbor &amp;&amp; bottomNeighbor)) {\n      this._basicSquare({ x, y, size, rotation: 0 });\n      return;\n    }\n\n    if (neighborsCount === 2) {\n      let rotation = 0;\n\n      if (leftNeighbor &amp;&amp; topNeighbor) {\n        rotation = Math.PI / 2;\n      } else if (topNeighbor &amp;&amp; rightNeighbor) {\n        rotation = Math.PI;\n      } else if (rightNeighbor &amp;&amp; bottomNeighbor) {\n        rotation = -Math.PI / 2;\n      }\n\n      this._basicCornerExtraRounded({ x, y, size, rotation });\n      return;\n    }\n\n    if (neighborsCount === 1) {\n      let rotation = 0;\n\n      if (topNeighbor) {\n        rotation = Math.PI / 2;\n      } else if (rightNeighbor) {\n        rotation = Math.PI;\n      } else if (bottomNeighbor) {\n        rotation = -Math.PI / 2;\n      }\n\n      this._basicSideRounded({ x, y, size, rotation });\n      return;\n    }\n  }\n\n  _drawClassy({ x, y, size, getNeighbor }: DrawArgs): void {\n    const leftNeighbor = getNeighbor ? +getNeighbor(-1, 0) : 0;\n    const rightNeighbor = getNeighbor ? +getNeighbor(1, 0) : 0;\n    const topNeighbor = getNeighbor ? +getNeighbor(0, -1) : 0;\n    const bottomNeighbor = getNeighbor ? +getNeighbor(0, 1) : 0;\n\n    const neighborsCount = leftNeighbor + rightNeighbor + topNeighbor + bottomNeighbor;\n\n    if (neighborsCount === 0) {\n      this._basicCornersRounded({ x, y, size, rotation: Math.PI / 2 });\n      return;\n    }\n\n    if (!leftNeighbor &amp;&amp; !topNeighbor) {\n      this._basicCornerRounded({ x, y, size, rotation: -Math.PI / 2 });\n      return;\n    }\n\n    if (!rightNeighbor &amp;&amp; !bottomNeighbor) {\n      this._basicCornerRounded({ x, y, size, rotation: Math.PI / 2 });\n      return;\n    }\n\n    this._basicSquare({ x, y, size, rotation: 0 });\n  }\n\n  _drawClassyRounded({ x, y, size, getNeighbor }: DrawArgs): void {\n    const leftNeighbor = getNeighbor ? +getNeighbor(-1, 0) : 0;\n    const rightNeighbor = getNeighbor ? +getNeighbor(1, 0) : 0;\n    const topNeighbor = getNeighbor ? +getNeighbor(0, -1) : 0;\n    const bottomNeighbor = getNeighbor ? +getNeighbor(0, 1) : 0;\n\n    const neighborsCount = leftNeighbor + rightNeighbor + topNeighbor + bottomNeighbor;\n\n    if (neighborsCount === 0) {\n      this._basicCornersRounded({ x, y, size, rotation: Math.PI / 2 });\n      return;\n    }\n\n    if (!leftNeighbor &amp;&amp; !topNeighbor) {\n      this._basicCornerExtraRounded({ x, y, size, rotation: -Math.PI / 2 });\n      return;\n    }\n\n    if (!rightNeighbor &amp;&amp; !bottomNeighbor) {\n      this._basicCornerExtraRounded({ x, y, size, rotation: Math.PI / 2 });\n      return;\n    }\n\n    this._basicSquare({ x, y, size, rotation: 0 });\n  }\n}\n","import { DotTypes } from \"../types\";\n\nexport default {\n  dots: \"dots\",\n  rounded: \"rounded\",\n  classy: \"classy\",\n  classyRounded: \"classy-rounded\",\n  square: \"square\",\n  extraRounded: \"extra-rounded\"\n} as DotTypes;\n","import { CornerSquareTypes } from \"../types\";\n\nexport default {\n  dot: \"dot\",\n  square: \"square\",\n  extraRounded: \"extra-rounded\"\n} as CornerSquareTypes;\n","import cornerSquareTypes from \"../../constants/cornerSquareTypes\";\nimport { CornerSquareType, DrawArgs, BasicFigureDrawArgs, RotateFigureArgs, Window } from \"../../types\";\n\nexport const availableCornerSquareTypes = Object.values(cornerSquareTypes);\n\nexport default class QRCornerSquare {\n  _element?: SVGElement;\n  _svg: SVGElement;\n  _type: CornerSquareType;\n  _window: Window;\n\n  constructor({ svg, type, window }: { svg: SVGElement; type: CornerSquareType; window: Window }) {\n    this._svg = svg;\n    this._type = type;\n    this._window = window;\n  }\n\n  draw(x: number, y: number, size: number, rotation: number): void {\n    const type = this._type;\n    let drawFunction;\n\n    switch (type) {\n      case cornerSquareTypes.square:\n        drawFunction = this._drawSquare;\n        break;\n      case cornerSquareTypes.extraRounded:\n        drawFunction = this._drawExtraRounded;\n        break;\n      case cornerSquareTypes.dot:\n      default:\n        drawFunction = this._drawDot;\n    }\n\n    drawFunction.call(this, { x, y, size, rotation });\n  }\n\n  _rotateFigure({ x, y, size, rotation = 0, draw }: RotateFigureArgs): void {\n    const cx = x + size / 2;\n    const cy = y + size / 2;\n\n    draw();\n    this._element?.setAttribute(\"transform\", `rotate(${(180 * rotation) / Math.PI},${cx},${cy})`);\n  }\n\n  _basicDot(args: BasicFigureDrawArgs): void {\n    const { size, x, y } = args;\n    const dotSize = size / 7;\n\n    this._rotateFigure({\n      ...args,\n      draw: () =&gt; {\n        this._element = this._window.document.createElementNS(\"http://www.w3.org/2000/svg\", \"path\");\n        this._element.setAttribute(\"clip-rule\", \"evenodd\");\n        this._element.setAttribute(\n          \"d\",\n          `M ${x + size / 2} ${y}` + // M cx, y //  Move to top of ring\n            `a ${size / 2} ${size / 2} 0 1 0 0.1 0` + // a outerRadius, outerRadius, 0, 1, 0, 1, 0 // Draw outer arc, but don't close it\n            `z` + // Z // Close the outer shape\n            `m 0 ${dotSize}` + // m -1 outerRadius-innerRadius // Move to top point of inner radius\n            `a ${size / 2 - dotSize} ${size / 2 - dotSize} 0 1 1 -0.1 0` + // a innerRadius, innerRadius, 0, 1, 1, -1, 0 // Draw inner arc, but don't close it\n            `Z` // Z // Close the inner ring. Actually will still work without, but inner ring will have one unit missing in stroke\n        );\n      }\n    });\n  }\n\n  _basicSquare(args: BasicFigureDrawArgs): void {\n    const { size, x, y } = args;\n    const dotSize = size / 7;\n\n    this._rotateFigure({\n      ...args,\n      draw: () =&gt; {\n        this._element = this._window.document.createElementNS(\"http://www.w3.org/2000/svg\", \"path\");\n        this._element.setAttribute(\"clip-rule\", \"evenodd\");\n        this._element.setAttribute(\n          \"d\",\n          `M ${x} ${y}` +\n            `v ${size}` +\n            `h ${size}` +\n            `v ${-size}` +\n            `z` +\n            `M ${x + dotSize} ${y + dotSize}` +\n            `h ${size - 2 * dotSize}` +\n            `v ${size - 2 * dotSize}` +\n            `h ${-size + 2 * dotSize}` +\n            `z`\n        );\n      }\n    });\n  }\n\n  _basicExtraRounded(args: BasicFigureDrawArgs): void {\n    const { size, x, y } = args;\n    const dotSize = size / 7;\n\n    this._rotateFigure({\n      ...args,\n      draw: () =&gt; {\n        this._element = this._window.document.createElementNS(\"http://www.w3.org/2000/svg\", \"path\");\n        this._element.setAttribute(\"clip-rule\", \"evenodd\");\n        this._element.setAttribute(\n          \"d\",\n          `M ${x} ${y + 2.5 * dotSize}` +\n            `v ${2 * dotSize}` +\n            `a ${2.5 * dotSize} ${2.5 * dotSize}, 0, 0, 0, ${dotSize * 2.5} ${dotSize * 2.5}` +\n            `h ${2 * dotSize}` +\n            `a ${2.5 * dotSize} ${2.5 * dotSize}, 0, 0, 0, ${dotSize * 2.5} ${-dotSize * 2.5}` +\n            `v ${-2 * dotSize}` +\n            `a ${2.5 * dotSize} ${2.5 * dotSize}, 0, 0, 0, ${-dotSize * 2.5} ${-dotSize * 2.5}` +\n            `h ${-2 * dotSize}` +\n            `a ${2.5 * dotSize} ${2.5 * dotSize}, 0, 0, 0, ${-dotSize * 2.5} ${dotSize * 2.5}` +\n            `M ${x + 2.5 * dotSize} ${y + dotSize}` +\n            `h ${2 * dotSize}` +\n            `a ${1.5 * dotSize} ${1.5 * dotSize}, 0, 0, 1, ${dotSize * 1.5} ${dotSize * 1.5}` +\n            `v ${2 * dotSize}` +\n            `a ${1.5 * dotSize} ${1.5 * dotSize}, 0, 0, 1, ${-dotSize * 1.5} ${dotSize * 1.5}` +\n            `h ${-2 * dotSize}` +\n            `a ${1.5 * dotSize} ${1.5 * dotSize}, 0, 0, 1, ${-dotSize * 1.5} ${-dotSize * 1.5}` +\n            `v ${-2 * dotSize}` +\n            `a ${1.5 * dotSize} ${1.5 * dotSize}, 0, 0, 1, ${dotSize * 1.5} ${-dotSize * 1.5}`\n        );\n      }\n    });\n  }\n\n  _drawDot({ x, y, size, rotation }: DrawArgs): void {\n    this._basicDot({ x, y, size, rotation });\n  }\n\n  _drawSquare({ x, y, size, rotation }: DrawArgs): void {\n    this._basicSquare({ x, y, size, rotation });\n  }\n\n  _drawExtraRounded({ x, y, size, rotation }: DrawArgs): void {\n    this._basicExtraRounded({ x, y, size, rotation });\n  }\n}\n","import { CornerDotTypes } from \"../types\";\n\nexport default {\n  dot: \"dot\",\n  square: \"square\"\n} as CornerDotTypes;","import cornerDotTypes from \"../../constants/cornerDotTypes\";\nimport { CornerDotType, RotateFigureArgs, BasicFigureDrawArgs, DrawArgs, Window } from \"../../types\";\n\nexport const availableCornerDotTypes = Object.values(cornerDotTypes);\n\nexport default class QRCornerDot {\n  _element?: SVGElement;\n  _svg: SVGElement;\n  _type: CornerDotType;\n  _window: Window;\n\n  constructor({ svg, type, window }: { svg: SVGElement; type: CornerDotType; window: Window }) {\n    this._svg = svg;\n    this._type = type;\n    this._window = window;\n  }\n\n  draw(x: number, y: number, size: number, rotation: number): void {\n    const type = this._type;\n    let drawFunction;\n\n    switch (type) {\n      case cornerDotTypes.square:\n        drawFunction = this._drawSquare;\n        break;\n      case cornerDotTypes.dot:\n      default:\n        drawFunction = this._drawDot;\n    }\n\n    drawFunction.call(this, { x, y, size, rotation });\n  }\n\n  _rotateFigure({ x, y, size, rotation = 0, draw }: RotateFigureArgs): void {\n    const cx = x + size / 2;\n    const cy = y + size / 2;\n\n    draw();\n    this._element?.setAttribute(\"transform\", `rotate(${(180 * rotation) / Math.PI},${cx},${cy})`);\n  }\n\n  _basicDot(args: BasicFigureDrawArgs): void {\n    const { size, x, y } = args;\n\n    this._rotateFigure({\n      ...args,\n      draw: () =&gt; {\n        this._element = this._window.document.createElementNS(\"http://www.w3.org/2000/svg\", \"circle\");\n        this._element.setAttribute(\"cx\", String(x + size / 2));\n        this._element.setAttribute(\"cy\", String(y + size / 2));\n        this._element.setAttribute(\"r\", String(size / 2));\n      }\n    });\n  }\n\n  _basicSquare(args: BasicFigureDrawArgs): void {\n    const { size, x, y } = args;\n\n    this._rotateFigure({\n      ...args,\n      draw: () =&gt; {\n        this._element = this._window.document.createElementNS(\"http://www.w3.org/2000/svg\", \"rect\");\n        this._element.setAttribute(\"x\", String(x));\n        this._element.setAttribute(\"y\", String(y));\n        this._element.setAttribute(\"width\", String(size));\n        this._element.setAttribute(\"height\", String(size));\n      }\n    });\n  }\n\n  _drawDot({ x, y, size, rotation }: DrawArgs): void {\n    this._basicDot({ x, y, size, rotation });\n  }\n\n  _drawSquare({ x, y, size, rotation }: DrawArgs): void {\n    this._basicSquare({ x, y, size, rotation });\n  }\n}\n","import { GradientTypes } from \"../types\";\n\nexport default {\n  radial: \"radial\",\n  linear: \"linear\"\n} as GradientTypes;\n","import { ShapeTypes } from \"../types\";\n\nexport default {\n  square: \"square\",\n  circle: \"circle\"\n} as ShapeTypes;\n","import calculateImageSize from \"../tools/calculateImageSize\";\nimport toDataUrl from \"../tools/toDataUrl\";\nimport errorCorrectionPercents from \"../constants/errorCorrectionPercents\";\nimport QRDot from \"../figures/dot/QRDot\";\nimport QRCornerSquare, { availableCornerSquareTypes } from \"../figures/cornerSquare/QRCornerSquare\";\nimport QRCornerDot, { availableCornerDotTypes } from \"../figures/cornerDot/QRCornerDot\";\nimport { RequiredOptions } from \"./QROptions\";\nimport gradientTypes from \"../constants/gradientTypes\";\nimport shapeTypes from \"../constants/shapeTypes\";\nimport { DotType, QRCode, FilterFunction, Gradient, Window } from \"../types\";\nimport { Image } from \"canvas\";\n\nconst squareMask = [\n  [1, 1, 1, 1, 1, 1, 1],\n  [1, 0, 0, 0, 0, 0, 1],\n  [1, 0, 0, 0, 0, 0, 1],\n  [1, 0, 0, 0, 0, 0, 1],\n  [1, 0, 0, 0, 0, 0, 1],\n  [1, 0, 0, 0, 0, 0, 1],\n  [1, 1, 1, 1, 1, 1, 1]\n];\n\nconst dotMask = [\n  [0, 0, 0, 0, 0, 0, 0],\n  [0, 0, 0, 0, 0, 0, 0],\n  [0, 0, 1, 1, 1, 0, 0],\n  [0, 0, 1, 1, 1, 0, 0],\n  [0, 0, 1, 1, 1, 0, 0],\n  [0, 0, 0, 0, 0, 0, 0],\n  [0, 0, 0, 0, 0, 0, 0]\n];\n\nexport default class QRSVG {\n  _window: Window;\n  _element: SVGElement;\n  _defs: SVGElement;\n  _backgroundClipPath?: SVGElement;\n  _dotsClipPath?: SVGElement;\n  _cornersSquareClipPath?: SVGElement;\n  _cornersDotClipPath?: SVGElement;\n  _options: RequiredOptions;\n  _qr?: QRCode;\n  _image?: HTMLImageElement | Image;\n  _imageUri?: string;\n  _instanceId: number;\n\n  static instanceCount = 0;\n\n  //TODO don't pass all options to this class\n  constructor(options: RequiredOptions, window: Window) {\n    this._window = window;\n    this._element = this._window.document.createElementNS(\"http://www.w3.org/2000/svg\", \"svg\");\n    this._element.setAttribute(\"width\", String(options.width));\n    this._element.setAttribute(\"height\", String(options.height));\n    this._element.setAttribute(\"xmlns:xlink\", \"http://www.w3.org/1999/xlink\");\n    if (!options.dotsOptions.roundSize) {\n      this._element.setAttribute(\"shape-rendering\", \"crispEdges\");\n    }\n    this._element.setAttribute(\"viewBox\", `0 0 ${options.width} ${options.height}`);\n    this._defs = this._window.document.createElementNS(\"http://www.w3.org/2000/svg\", \"defs\");\n    this._element.appendChild(this._defs);\n    this._imageUri = options.image;\n    this._instanceId = QRSVG.instanceCount++;\n    this._options = options;\n  }\n\n  get width(): number {\n    return this._options.width;\n  }\n\n  get height(): number {\n    return this._options.height;\n  }\n\n  getElement(): SVGElement {\n    return this._element;\n  }\n\n  async drawQR(qr: QRCode): Promise&lt;void&gt; {\n    const count = qr.getModuleCount();\n    const minSize = Math.min(this._options.width, this._options.height) - this._options.margin * 2;\n    const realQRSize = this._options.shape === shapeTypes.circle ? minSize / Math.sqrt(2) : minSize;\n    const dotSize = this._roundSize(realQRSize / count);\n    let drawImageSize = {\n      hideXDots: 0,\n      hideYDots: 0,\n      width: 0,\n      height: 0\n    };\n\n    this._qr = qr;\n\n    if (this._options.image) {\n      //We need it to get image size\n      await this.loadImage();\n      if (!this._image) return;\n      const { imageOptions, qrOptions } = this._options;\n      const coverLevel = imageOptions.imageSize * errorCorrectionPercents[qrOptions.errorCorrectionLevel];\n      const maxHiddenDots = Math.floor(coverLevel * count * count);\n\n      drawImageSize = calculateImageSize({\n        originalWidth: this._image.width,\n        originalHeight: this._image.height,\n        maxHiddenDots,\n        maxHiddenAxisDots: count - 14,\n        dotSize\n      });\n    }\n\n    this.drawBackground();\n    this.drawDots((row: number, col: number): boolean =&gt; {\n      if (this._options.imageOptions.hideBackgroundDots) {\n        if (\n          row &gt;= (count - drawImageSize.hideYDots) / 2 &amp;&amp;\n          row &lt; (count + drawImageSize.hideYDots) / 2 &amp;&amp;\n          col &gt;= (count - drawImageSize.hideXDots) / 2 &amp;&amp;\n          col &lt; (count + drawImageSize.hideXDots) / 2\n        ) {\n          return false;\n        }\n      }\n\n      if (squareMask[row]?.[col] || squareMask[row - count + 7]?.[col] || squareMask[row]?.[col - count + 7]) {\n        return false;\n      }\n\n      if (dotMask[row]?.[col] || dotMask[row - count + 7]?.[col] || dotMask[row]?.[col - count + 7]) {\n        return false;\n      }\n\n      return true;\n    });\n    this.drawCorners();\n\n    if (this._options.image) {\n      await this.drawImage({ width: drawImageSize.width, height: drawImageSize.height, count, dotSize });\n    }\n  }\n\n  drawBackground(): void {\n    const element = this._element;\n    const options = this._options;\n\n    if (element) {\n      const gradientOptions = options.backgroundOptions?.gradient;\n      const color = options.backgroundOptions?.color;\n      let height = options.height;\n      let width = options.width;\n\n      if (gradientOptions || color) {\n        const element = this._window.document.createElementNS(\"http://www.w3.org/2000/svg\", \"rect\");\n        this._backgroundClipPath = this._window.document.createElementNS(\"http://www.w3.org/2000/svg\", \"clipPath\");\n        this._backgroundClipPath.setAttribute(\"id\", `clip-path-background-color-${this._instanceId}`);\n        this._defs.appendChild(this._backgroundClipPath);\n\n        if (options.backgroundOptions?.round) {\n          height = width = Math.min(options.width, options.height);\n          element.setAttribute(\"rx\", String((height / 2) * options.backgroundOptions.round));\n        }\n\n        element.setAttribute(\"x\", String(this._roundSize((options.width - width) / 2)));\n        element.setAttribute(\"y\", String(this._roundSize((options.height - height) / 2)));\n        element.setAttribute(\"width\", String(width));\n        element.setAttribute(\"height\", String(height));\n\n        this._backgroundClipPath.appendChild(element);\n\n        this._createColor({\n          options: gradientOptions,\n          color: color,\n          additionalRotation: 0,\n          x: 0,\n          y: 0,\n          height: options.height,\n          width: options.width,\n          name: `background-color-${this._instanceId}`\n        });\n      }\n    }\n  }\n\n  drawDots(filter?: FilterFunction): void {\n    if (!this._qr) {\n      throw \"QR code is not defined\";\n    }\n\n    const options = this._options;\n    const count = this._qr.getModuleCount();\n\n    if (count &gt; options.width || count &gt; options.height) {\n      throw \"The canvas is too small.\";\n    }\n\n    const minSize = Math.min(options.width, options.height) - options.margin * 2;\n    const realQRSize = options.shape === shapeTypes.circle ? minSize / Math.sqrt(2) : minSize;\n    const dotSize = this._roundSize(realQRSize / count);\n    const xBeginning = this._roundSize((options.width - count * dotSize) / 2);\n    const yBeginning = this._roundSize((options.height - count * dotSize) / 2);\n    const dot = new QRDot({\n      svg: this._element,\n      type: options.dotsOptions.type,\n      window: this._window\n    });\n\n    this._dotsClipPath = this._window.document.createElementNS(\"http://www.w3.org/2000/svg\", \"clipPath\");\n    this._dotsClipPath.setAttribute(\"id\", `clip-path-dot-color-${this._instanceId}`);\n    this._defs.appendChild(this._dotsClipPath);\n\n    this._createColor({\n      options: options.dotsOptions?.gradient,\n      color: options.dotsOptions.color,\n      additionalRotation: 0,\n      x: 0,\n      y: 0,\n      height: options.height,\n      width: options.width,\n      name: `dot-color-${this._instanceId}`\n    });\n\n    for (let row = 0; row &lt; count; row++) {\n      for (let col = 0; col &lt; count; col++) {\n        if (filter &amp;&amp; !filter(row, col)) {\n          continue;\n        }\n        if (!this._qr?.isDark(row, col)) {\n          continue;\n        }\n\n        dot.draw(\n          xBeginning + col * dotSize,\n          yBeginning + row * dotSize,\n          dotSize,\n          (xOffset: number, yOffset: number): boolean =&gt; {\n            if (col + xOffset &lt; 0 || row + yOffset &lt; 0 || col + xOffset &gt;= count || row + yOffset &gt;= count) return false;\n            if (filter &amp;&amp; !filter(row + yOffset, col + xOffset)) return false;\n            return !!this._qr &amp;&amp; this._qr.isDark(row + yOffset, col + xOffset);\n          }\n        );\n\n        if (dot._element &amp;&amp; this._dotsClipPath) {\n          this._dotsClipPath.appendChild(dot._element);\n        }\n      }\n    }\n\n    if (options.shape === shapeTypes.circle) {\n      const additionalDots = this._roundSize((minSize / dotSize - count) / 2);\n      const fakeCount = count + additionalDots * 2;\n      const xFakeBeginning = xBeginning - additionalDots * dotSize;\n      const yFakeBeginning = yBeginning - additionalDots * dotSize;\n      const fakeMatrix: number[][] = [];\n      const center = this._roundSize(fakeCount / 2);\n\n      for (let row = 0; row &lt; fakeCount; row++) {\n        fakeMatrix[row] = [];\n        for (let col = 0; col &lt; fakeCount; col++) {\n          if (\n            row &gt;= additionalDots - 1 &amp;&amp;\n            row &lt;= fakeCount - additionalDots &amp;&amp;\n            col &gt;= additionalDots - 1 &amp;&amp;\n            col &lt;= fakeCount - additionalDots\n          ) {\n            fakeMatrix[row][col] = 0;\n            continue;\n          }\n\n          if (Math.sqrt((row - center) * (row - center) + (col - center) * (col - center)) &gt; center) {\n            fakeMatrix[row][col] = 0;\n            continue;\n          }\n\n          //Get random dots from QR code to show it outside of QR code\n          fakeMatrix[row][col] = this._qr.isDark(\n            col - 2 * additionalDots &lt; 0 ? col : col &gt;= count ? col - 2 * additionalDots : col - additionalDots,\n            row - 2 * additionalDots &lt; 0 ? row : row &gt;= count ? row - 2 * additionalDots : row - additionalDots\n          )\n            ? 1\n            : 0;\n        }\n      }\n\n      for (let row = 0; row &lt; fakeCount; row++) {\n        for (let col = 0; col &lt; fakeCount; col++) {\n          if (!fakeMatrix[row][col]) continue;\n\n          dot.draw(\n            xFakeBeginning + col * dotSize,\n            yFakeBeginning + row * dotSize,\n            dotSize,\n            (xOffset: number, yOffset: number): boolean =&gt; {\n              return !!fakeMatrix[row + yOffset]?.[col + xOffset];\n            }\n          );\n          if (dot._element &amp;&amp; this._dotsClipPath) {\n            this._dotsClipPath.appendChild(dot._element);\n          }\n        }\n      }\n    }\n  }\n\n  drawCorners(): void {\n    if (!this._qr) {\n      throw \"QR code is not defined\";\n    }\n\n    const element = this._element;\n    const options = this._options;\n\n    if (!element) {\n      throw \"Element code is not defined\";\n    }\n\n    const count = this._qr.getModuleCount();\n    const minSize = Math.min(options.width, options.height) - options.margin * 2;\n    const realQRSize = options.shape === shapeTypes.circle ? minSize / Math.sqrt(2) : minSize;\n    const dotSize = this._roundSize(realQRSize / count);\n    const cornersSquareSize = dotSize * 7;\n    const cornersDotSize = dotSize * 3;\n    const xBeginning = this._roundSize((options.width - count * dotSize) / 2);\n    const yBeginning = this._roundSize((options.height - count * dotSize) / 2);\n\n    [\n      [0, 0, 0],\n      [1, 0, Math.PI / 2],\n      [0, 1, -Math.PI / 2]\n    ].forEach(([column, row, rotation]) =&gt; {\n      const x = xBeginning + column * dotSize * (count - 7);\n      const y = yBeginning + row * dotSize * (count - 7);\n      let cornersSquareClipPath = this._dotsClipPath;\n      let cornersDotClipPath = this._dotsClipPath;\n\n      if (options.cornersSquareOptions?.gradient || options.cornersSquareOptions?.color) {\n        cornersSquareClipPath = this._window.document.createElementNS(\"http://www.w3.org/2000/svg\", \"clipPath\");\n        cornersSquareClipPath.setAttribute(\"id\", `clip-path-corners-square-color-${column}-${row}-${this._instanceId}`);\n        this._defs.appendChild(cornersSquareClipPath);\n        this._cornersSquareClipPath = this._cornersDotClipPath = cornersDotClipPath = cornersSquareClipPath;\n\n        this._createColor({\n          options: options.cornersSquareOptions?.gradient,\n          color: options.cornersSquareOptions?.color,\n          additionalRotation: rotation,\n          x,\n          y,\n          height: cornersSquareSize,\n          width: cornersSquareSize,\n          name: `corners-square-color-${column}-${row}-${this._instanceId}`\n        });\n      }\n\n      if (options.cornersSquareOptions?.type &amp;&amp; availableCornerSquareTypes.includes(options.cornersSquareOptions.type)) {\n        const cornersSquare = new QRCornerSquare({\n          svg: this._element,\n          type: options.cornersSquareOptions.type,\n          window: this._window\n        });\n\n        cornersSquare.draw(x, y, cornersSquareSize, rotation);\n\n        if (cornersSquare._element &amp;&amp; cornersSquareClipPath) {\n          cornersSquareClipPath.appendChild(cornersSquare._element);\n        }\n      } else {\n        const dot = new QRDot({\n          svg: this._element,\n          type: (options.cornersSquareOptions?.type as DotType) || options.dotsOptions.type,\n          window: this._window\n        });\n\n        for (let row = 0; row &lt; squareMask.length; row++) {\n          for (let col = 0; col &lt; squareMask[row].length; col++) {\n            if (!squareMask[row]?.[col]) {\n              continue;\n            }\n\n            dot.draw(\n              x + col * dotSize,\n              y + row * dotSize,\n              dotSize,\n              (xOffset: number, yOffset: number): boolean =&gt; !!squareMask[row + yOffset]?.[col + xOffset]\n            );\n\n            if (dot._element &amp;&amp; cornersSquareClipPath) {\n              cornersSquareClipPath.appendChild(dot._element);\n            }\n          }\n        }\n      }\n\n      if (options.cornersDotOptions?.gradient || options.cornersDotOptions?.color) {\n        cornersDotClipPath = this._window.document.createElementNS(\"http://www.w3.org/2000/svg\", \"clipPath\");\n        cornersDotClipPath.setAttribute(\"id\", `clip-path-corners-dot-color-${column}-${row}-${this._instanceId}`);\n        this._defs.appendChild(cornersDotClipPath);\n        this._cornersDotClipPath = cornersDotClipPath;\n\n        this._createColor({\n          options: options.cornersDotOptions?.gradient,\n          color: options.cornersDotOptions?.color,\n          additionalRotation: rotation,\n          x: x + dotSize * 2,\n          y: y + dotSize * 2,\n          height: cornersDotSize,\n          width: cornersDotSize,\n          name: `corners-dot-color-${column}-${row}-${this._instanceId}`\n        });\n      }\n\n      if (options.cornersDotOptions?.type &amp;&amp; availableCornerDotTypes.includes(options.cornersDotOptions.type)) {\n        const cornersDot = new QRCornerDot({\n          svg: this._element,\n          type: options.cornersDotOptions.type,\n          window: this._window\n        });\n\n        cornersDot.draw(x + dotSize * 2, y + dotSize * 2, cornersDotSize, rotation);\n\n        if (cornersDot._element &amp;&amp; cornersDotClipPath) {\n          cornersDotClipPath.appendChild(cornersDot._element);\n        }\n      } else {\n        const dot = new QRDot({\n          svg: this._element,\n          type: (options.cornersDotOptions?.type as DotType) || options.dotsOptions.type,\n          window: this._window\n        });\n\n        for (let row = 0; row &lt; dotMask.length; row++) {\n          for (let col = 0; col &lt; dotMask[row].length; col++) {\n            if (!dotMask[row]?.[col]) {\n              continue;\n            }\n\n            dot.draw(\n              x + col * dotSize,\n              y + row * dotSize,\n              dotSize,\n              (xOffset: number, yOffset: number): boolean =&gt; !!dotMask[row + yOffset]?.[col + xOffset]\n            );\n\n            if (dot._element &amp;&amp; cornersDotClipPath) {\n              cornersDotClipPath.appendChild(dot._element);\n            }\n          }\n        }\n      }\n    });\n  }\n\n  loadImage(): Promise&lt;void&gt; {\n    return new Promise((resolve, reject) =&gt; {\n      const options = this._options;\n\n      if (!options.image) {\n        return reject(\"Image is not defined\");\n      }\n\n      if (options.nodeCanvas?.loadImage) {\n        options.nodeCanvas\n          .loadImage(options.image)\n          .then((image: Image) =&gt; {\n            this._image = image;\n            if (this._options.imageOptions.saveAsBlob) {\n              const canvas = options.nodeCanvas?.createCanvas( this._image.width,  this._image.height);\n              canvas?.getContext('2d')?.drawImage(image, 0, 0);\n              this._imageUri = canvas?.toDataURL();\n            }\n            resolve();\n          })\n          .catch(reject);\n      } else {\n        const image = new this._window.Image();\n\n        if (typeof options.imageOptions.crossOrigin === \"string\") {\n          image.crossOrigin = options.imageOptions.crossOrigin;\n        }\n\n        this._image = image;\n        image.onload = async () =&gt; {\n          if (this._options.imageOptions.saveAsBlob) {\n            this._imageUri = await toDataUrl(options.image || \"\", this._window);\n          }\n          resolve();\n        };\n        image.src = options.image;\n      }\n    });\n  }\n\n  async drawImage({\n    width,\n    height,\n    count,\n    dotSize\n  }: {\n    width: number;\n    height: number;\n    count: number;\n    dotSize: number;\n  }): Promise&lt;void&gt; {\n    const options = this._options;\n    const xBeginning = this._roundSize((options.width - count * dotSize) / 2);\n    const yBeginning = this._roundSize((options.height - count * dotSize) / 2);\n    const dx = xBeginning + this._roundSize(options.imageOptions.margin + (count * dotSize - width) / 2);\n    const dy = yBeginning + this._roundSize(options.imageOptions.margin + (count * dotSize - height) / 2);\n    const dw = width - options.imageOptions.margin * 2;\n    const dh = height - options.imageOptions.margin * 2;\n\n    const image = this._window.document.createElementNS(\"http://www.w3.org/2000/svg\", \"image\");\n    image.setAttribute(\"href\", this._imageUri || \"\");\n    image.setAttribute(\"xlink:href\", this._imageUri || \"\");\n    image.setAttribute(\"x\", String(dx));\n    image.setAttribute(\"y\", String(dy));\n    image.setAttribute(\"width\", `${dw}px`);\n    image.setAttribute(\"height\", `${dh}px`);\n\n    this._element.appendChild(image);\n  }\n\n  _createColor({\n    options,\n    color,\n    additionalRotation,\n    x,\n    y,\n    height,\n    width,\n    name\n  }: {\n    options?: Gradient;\n    color?: string;\n    additionalRotation: number;\n    x: number;\n    y: number;\n    height: number;\n    width: number;\n    name: string;\n  }): void {\n    const size = width &gt; height ? width : height;\n    const rect = this._window.document.createElementNS(\"http://www.w3.org/2000/svg\", \"rect\");\n    rect.setAttribute(\"x\", String(x));\n    rect.setAttribute(\"y\", String(y));\n    rect.setAttribute(\"height\", String(height));\n    rect.setAttribute(\"width\", String(width));\n    rect.setAttribute(\"clip-path\", `url('#clip-path-${name}')`);\n\n    if (options) {\n      let gradient: SVGElement;\n      if (options.type === gradientTypes.radial) {\n        gradient = this._window.document.createElementNS(\"http://www.w3.org/2000/svg\", \"radialGradient\");\n        gradient.setAttribute(\"id\", name);\n        gradient.setAttribute(\"gradientUnits\", \"userSpaceOnUse\");\n        gradient.setAttribute(\"fx\", String(x + width / 2));\n        gradient.setAttribute(\"fy\", String(y + height / 2));\n        gradient.setAttribute(\"cx\", String(x + width / 2));\n        gradient.setAttribute(\"cy\", String(y + height / 2));\n        gradient.setAttribute(\"r\", String(size / 2));\n      } else {\n        const rotation = ((options.rotation || 0) + additionalRotation) % (2 * Math.PI);\n        const positiveRotation = (rotation + 2 * Math.PI) % (2 * Math.PI);\n        let x0 = x + width / 2;\n        let y0 = y + height / 2;\n        let x1 = x + width / 2;\n        let y1 = y + height / 2;\n\n        if (\n          (positiveRotation &gt;= 0 &amp;&amp; positiveRotation &lt;= 0.25 * Math.PI) ||\n          (positiveRotation &gt; 1.75 * Math.PI &amp;&amp; positiveRotation &lt;= 2 * Math.PI)\n        ) {\n          x0 = x0 - width / 2;\n          y0 = y0 - (height / 2) * Math.tan(rotation);\n          x1 = x1 + width / 2;\n          y1 = y1 + (height / 2) * Math.tan(rotation);\n        } else if (positiveRotation &gt; 0.25 * Math.PI &amp;&amp; positiveRotation &lt;= 0.75 * Math.PI) {\n          y0 = y0 - height / 2;\n          x0 = x0 - width / 2 / Math.tan(rotation);\n          y1 = y1 + height / 2;\n          x1 = x1 + width / 2 / Math.tan(rotation);\n        } else if (positiveRotation &gt; 0.75 * Math.PI &amp;&amp; positiveRotation &lt;= 1.25 * Math.PI) {\n          x0 = x0 + width / 2;\n          y0 = y0 + (height / 2) * Math.tan(rotation);\n          x1 = x1 - width / 2;\n          y1 = y1 - (height / 2) * Math.tan(rotation);\n        } else if (positiveRotation &gt; 1.25 * Math.PI &amp;&amp; positiveRotation &lt;= 1.75 * Math.PI) {\n          y0 = y0 + height / 2;\n          x0 = x0 + width / 2 / Math.tan(rotation);\n          y1 = y1 - height / 2;\n          x1 = x1 - width / 2 / Math.tan(rotation);\n        }\n\n        gradient = this._window.document.createElementNS(\"http://www.w3.org/2000/svg\", \"linearGradient\");\n        gradient.setAttribute(\"id\", name);\n        gradient.setAttribute(\"gradientUnits\", \"userSpaceOnUse\");\n        gradient.setAttribute(\"x1\", String(Math.round(x0)));\n        gradient.setAttribute(\"y1\", String(Math.round(y0)));\n        gradient.setAttribute(\"x2\", String(Math.round(x1)));\n        gradient.setAttribute(\"y2\", String(Math.round(y1)));\n      }\n\n      options.colorStops.forEach(({ offset, color }: { offset: number; color: string }) =&gt; {\n        const stop = this._window.document.createElementNS(\"http://www.w3.org/2000/svg\", \"stop\");\n        stop.setAttribute(\"offset\", `${100 * offset}%`);\n        stop.setAttribute(\"stop-color\", color);\n        gradient.appendChild(stop);\n      });\n\n      rect.setAttribute(\"fill\", `url('#${name}')`);\n      this._defs.appendChild(gradient);\n    } else if (color) {\n      rect.setAttribute(\"fill\", color);\n    }\n\n    this._element.appendChild(rect);\n  }\n\n  _roundSize = (value: number) =&gt; {\n    if (this._options.dotsOptions.roundSize) {\n      return Math.floor(value);\n    }\n    return value;\n  }\n}\n","interface ImageSizeOptions {\n  originalHeight: number;\n  originalWidth: number;\n  maxHiddenDots: number;\n  maxHiddenAxisDots?: number;\n  dotSize: number;\n}\n\ninterface ImageSizeResult {\n  height: number;\n  width: number;\n  hideYDots: number;\n  hideXDots: number;\n}\n\nexport default function calculateImageSize({\n  originalHeight,\n  originalWidth,\n  maxHiddenDots,\n  maxHiddenAxisDots,\n  dotSize\n}: ImageSizeOptions): ImageSizeResult {\n  const hideDots = { x: 0, y: 0 };\n  const imageSize = { x: 0, y: 0 };\n\n  if (originalHeight &lt;= 0 || originalWidth &lt;= 0 || maxHiddenDots &lt;= 0 || dotSize &lt;= 0) {\n    return {\n      height: 0,\n      width: 0,\n      hideYDots: 0,\n      hideXDots: 0\n    };\n  }\n\n  const k = originalHeight / originalWidth;\n\n  //Getting the maximum possible axis hidden dots\n  hideDots.x = Math.floor(Math.sqrt(maxHiddenDots / k));\n  //The count of hidden dot's can't be less than 1\n  if (hideDots.x &lt;= 0) hideDots.x = 1;\n  //Check the limit of the maximum allowed axis hidden dots\n  if (maxHiddenAxisDots &amp;&amp; maxHiddenAxisDots &lt; hideDots.x) hideDots.x = maxHiddenAxisDots;\n  //The count of dots should be odd\n  if (hideDots.x % 2 === 0) hideDots.x--;\n  imageSize.x = hideDots.x * dotSize;\n  //Calculate opposite axis hidden dots based on axis value.\n  //The value will be odd.\n  //We use ceil to prevent dots covering by the image.\n  hideDots.y = 1 + 2 * Math.ceil((hideDots.x * k - 1) / 2);\n  imageSize.y = Math.round(imageSize.x * k);\n  //If the result dots count is bigger than max - then decrease size and calculate again\n  if (hideDots.y * hideDots.x &gt; maxHiddenDots || (maxHiddenAxisDots &amp;&amp; maxHiddenAxisDots &lt; hideDots.y)) {\n    if (maxHiddenAxisDots &amp;&amp; maxHiddenAxisDots &lt; hideDots.y) {\n      hideDots.y = maxHiddenAxisDots;\n      if (hideDots.y % 2 === 0) hideDots.x--;\n    } else {\n      hideDots.y -= 2;\n    }\n    imageSize.y = hideDots.y * dotSize;\n    hideDots.x = 1 + 2 * Math.ceil((hideDots.y / k - 1) / 2);\n    imageSize.x = Math.round(imageSize.y / k);\n  }\n\n  return {\n    height: imageSize.y,\n    width: imageSize.x,\n    hideYDots: hideDots.y,\n    hideXDots: hideDots.x\n  };\n}\n","import { Window } from \"../types\";\n\nexport default async function toDataURL(url: string, window: Window): Promise&lt;string&gt; {\n  return new Promise((resolve) =&gt; {\n    const xhr = new window.XMLHttpRequest();\n    xhr.onload = function () {\n      const reader = new window.FileReader();\n      reader.onloadend = function () {\n        resolve(reader.result as string);\n      };\n      reader.readAsDataURL(xhr.response);\n    };\n    xhr.open(\"GET\", url);\n    xhr.responseType = \"blob\";\n    xhr.send();\n  });\n}\n","import { DrawTypes } from \"../types\";\n\nexport default {\n  canvas: \"canvas\",\n  svg: \"svg\"\n} as DrawTypes;\n","import { TypeNumber } from \"../types\";\n\ninterface TypesMap {\n  [key: number]: TypeNumber;\n}\n\nconst qrTypes: TypesMap = {};\n\nfor (let type = 0; type &lt;= 40; type++) {\n  qrTypes[type] = type as TypeNumber;\n}\n\n// 0 types is autodetect\n\n// types = {\n//     0: 0,\n//     1: 1,\n//     ...\n//     40: 40\n// }\n\nexport default qrTypes;\n","import qrTypes from \"../constants/qrTypes\";\nimport drawTypes from \"../constants/drawTypes\";\nimport shapeTypes from \"../constants/shapeTypes\";\nimport errorCorrectionLevels from \"../constants/errorCorrectionLevels\";\nimport { ShapeType, DotType, Options, TypeNumber, ErrorCorrectionLevel, Mode, DrawType, Gradient } from \"../types\";\n\nexport interface RequiredOptions extends Options {\n  type: DrawType;\n  shape: ShapeType;\n  width: number;\n  height: number;\n  margin: number;\n  data: string;\n  qrOptions: {\n    typeNumber: TypeNumber;\n    mode?: Mode;\n    errorCorrectionLevel: ErrorCorrectionLevel;\n  };\n  imageOptions: {\n    saveAsBlob: boolean;\n    hideBackgroundDots: boolean;\n    imageSize: number;\n    crossOrigin?: string;\n    margin: number;\n  };\n  dotsOptions: {\n    type: DotType;\n    color: string;\n    gradient?: Gradient;\n    roundSize?: boolean;\n  };\n  backgroundOptions: {\n    round: number;\n    color: string;\n    gradient?: Gradient;\n  };\n}\n\nconst defaultOptions: RequiredOptions = {\n  type: drawTypes.canvas,\n  shape: shapeTypes.square,\n  width: 300,\n  height: 300,\n  data: \"\",\n  margin: 0,\n  qrOptions: {\n    typeNumber: qrTypes[0],\n    mode: undefined,\n    errorCorrectionLevel: errorCorrectionLevels.Q\n  },\n  imageOptions: {\n    saveAsBlob: true,\n    hideBackgroundDots: true,\n    imageSize: 0.4,\n    crossOrigin: undefined,\n    margin: 0\n  },\n  dotsOptions: {\n    type: \"square\",\n    color: \"#000\",\n    roundSize: true,\n  },\n  backgroundOptions: {\n    round: 0,\n    color: \"#fff\"\n  }\n};\n\nexport default defaultOptions;\n","import { ErrorCorrectionLevel } from \"../types\";\n\ninterface ErrorCorrectionLevels {\n  [key: string]: ErrorCorrectionLevel;\n}\n\nexport default {\n  L: \"L\",\n  M: \"M\",\n  Q: \"Q\",\n  H: \"H\"\n} as ErrorCorrectionLevels;\n","import { RequiredOptions } from \"../core/QROptions\";\nimport { Gradient } from \"../types\";\n\nfunction sanitizeGradient(gradient: Gradient): Gradient {\n  const newGradient = { ...gradient };\n\n  if (!newGradient.colorStops || !newGradient.colorStops.length) {\n    throw \"Field 'colorStops' is required in gradient\";\n  }\n\n  if (newGradient.rotation) {\n    newGradient.rotation = Number(newGradient.rotation);\n  } else {\n    newGradient.rotation = 0;\n  }\n\n  newGradient.colorStops = newGradient.colorStops.map((colorStop: { offset: number; color: string }) =&gt; ({\n    ...colorStop,\n    offset: Number(colorStop.offset)\n  }));\n\n  return newGradient;\n}\n\nexport default function sanitizeOptions(options: RequiredOptions): RequiredOptions {\n  const newOptions = { ...options };\n\n  newOptions.width = Number(newOptions.width);\n  newOptions.height = Number(newOptions.height);\n  newOptions.margin = Number(newOptions.margin);\n  newOptions.imageOptions = {\n    ...newOptions.imageOptions,\n    hideBackgroundDots: Boolean(newOptions.imageOptions.hideBackgroundDots),\n    imageSize: Number(newOptions.imageOptions.imageSize),\n    margin: Number(newOptions.imageOptions.margin)\n  };\n\n  if (newOptions.margin &gt; Math.min(newOptions.width, newOptions.height)) {\n    newOptions.margin = Math.min(newOptions.width, newOptions.height);\n  }\n\n  newOptions.dotsOptions = {\n    ...newOptions.dotsOptions\n  };\n  if (newOptions.dotsOptions.gradient) {\n    newOptions.dotsOptions.gradient = sanitizeGradient(newOptions.dotsOptions.gradient);\n  }\n\n  if (newOptions.cornersSquareOptions) {\n    newOptions.cornersSquareOptions = {\n      ...newOptions.cornersSquareOptions\n    };\n    if (newOptions.cornersSquareOptions.gradient) {\n      newOptions.cornersSquareOptions.gradient = sanitizeGradient(newOptions.cornersSquareOptions.gradient);\n    }\n  }\n\n  if (newOptions.cornersDotOptions) {\n    newOptions.cornersDotOptions = {\n      ...newOptions.cornersDotOptions\n    };\n    if (newOptions.cornersDotOptions.gradient) {\n      newOptions.cornersDotOptions.gradient = sanitizeGradient(newOptions.cornersDotOptions.gradient);\n    }\n  }\n\n  if (newOptions.backgroundOptions) {\n    newOptions.backgroundOptions = {\n      ...newOptions.backgroundOptions\n    };\n    if (newOptions.backgroundOptions.gradient) {\n      newOptions.backgroundOptions.gradient = sanitizeGradient(newOptions.backgroundOptions.gradient);\n    }\n  }\n\n  return newOptions;\n}\n","export default function getMimeType(extension: string) {\n  if (!extension) throw new Error('Extension must be defined');\n  if (extension[0] === \".\") {\n    extension = extension.substring(1);\n  }\n  const type = {\n    \"bmp\": \"image/bmp\",\n    \"gif\": \"image/gif\",\n    \"ico\": \"image/vnd.microsoft.icon\",\n    \"jpeg\": \"image/jpeg\",\n    \"jpg\": \"image/jpeg\",\n    \"png\": \"image/png\",\n    \"svg\": \"image/svg+xml\",\n    \"tif\": \"image/tiff\",\n    \"tiff\": \"image/tiff\",\n    \"webp\": \"image/webp\",\n    \"pdf\": \"application/pdf\",\n  }[extension.toLowerCase()]\n\n  if (!type) {\n    throw new Error(`Extension \"${extension}\" is not supported`);\n  }\n\n  return type;\n}","import getMode from \"../tools/getMode\";\nimport mergeDeep from \"../tools/merge\";\nimport downloadURI from \"../tools/downloadURI\";\nimport QRSVG from \"./QRSVG\";\nimport drawTypes from \"../constants/drawTypes\";\n\nimport defaultOptions, { RequiredOptions } from \"./QROptions\";\nimport sanitizeOptions from \"../tools/sanitizeOptions\";\nimport { FileExtension, QRCode, Options, DownloadOptions, ExtensionFunction, Window } from \"../types\";\nimport qrcode from \"qrcode-generator\";\nimport getMimeType from \"../tools/getMimeType\";\nimport { Canvas as NodeCanvas, Image } from \"canvas\";\n\ndeclare const window: Window;\n\nexport default class QRCodeStyling {\n  _options: RequiredOptions;\n  _window: Window;\n  _container?: HTMLElement;\n  _domCanvas?: HTMLCanvasElement;\n  _nodeCanvas?: NodeCanvas;\n  _svg?: SVGElement;\n  _qr?: QRCode;\n  _extension?: ExtensionFunction;\n  _canvasDrawingPromise?: Promise&lt;void&gt;;\n  _svgDrawingPromise?: Promise&lt;void&gt;;\n\n  constructor(options?: Partial&lt;Options&gt;) {\n    if (options?.jsdom) {\n      this._window = new options.jsdom(\"\", { resources: \"usable\" }).window;\n    } else {\n      this._window = window;\n    }\n    this._options = options ? sanitizeOptions(mergeDeep(defaultOptions, options) as RequiredOptions) : defaultOptions;\n    this.update();\n  }\n\n  static _clearContainer(container?: HTMLElement): void {\n    if (container) {\n      container.innerHTML = \"\";\n    }\n  }\n\n  _setupSvg(): void {\n    if (!this._qr) {\n      return;\n    }\n    const qrSVG = new QRSVG(this._options, this._window);\n\n    this._svg = qrSVG.getElement();\n    this._svgDrawingPromise = qrSVG.drawQR(this._qr).then(() =&gt; {\n      if (!this._svg) return;\n      this._extension?.(qrSVG.getElement(), this._options);\n    });\n  }\n\n  _setupCanvas(): void {\n    if (!this._qr) {\n      return;\n    }\n\n    if (this._options.nodeCanvas?.createCanvas) {\n      this._nodeCanvas = this._options.nodeCanvas.createCanvas(this._options.width, this._options.height);\n      this._nodeCanvas.width = this._options.width;\n      this._nodeCanvas.height = this._options.height;\n    } else {\n      this._domCanvas = document.createElement(\"canvas\");\n      this._domCanvas.width = this._options.width;\n      this._domCanvas.height = this._options.height;\n    }\n\n    this._setupSvg();\n    this._canvasDrawingPromise = this._svgDrawingPromise?.then(() =&gt; {\n      if (!this._svg) return;\n\n      const svg = this._svg;\n      const xml = new this._window.XMLSerializer().serializeToString(svg);\n      const svg64 = btoa(xml);\n      const image64 = `data:${getMimeType('svg')};base64,${svg64}`;\n\n      if (this._options.nodeCanvas?.loadImage) {\n        return this._options.nodeCanvas.loadImage(image64).then((image: Image) =&gt; {\n          // fix blurry svg\n          image.width = this._options.width;\n          image.height = this._options.height;\n          this._nodeCanvas?.getContext(\"2d\")?.drawImage(image, 0, 0);\n        });\n      } else {\n        const image = new this._window.Image();\n\n        return new Promise((resolve) =&gt; {\n          image.onload = (): void =&gt; {\n            this._domCanvas?.getContext(\"2d\")?.drawImage(image, 0, 0);\n            resolve();\n          };\n\n          image.src = image64;\n        });\n      }\n    });\n  }\n\n  async _getElement(extension: FileExtension = \"png\") {\n    if (!this._qr) throw \"QR code is empty\";\n\n    if (extension.toLowerCase() === \"svg\") {\n      if (!this._svg || !this._svgDrawingPromise) {\n        this._setupSvg();\n      }\n      await this._svgDrawingPromise;\n      return this._svg;\n    } else {\n      if (!(this._domCanvas || this._nodeCanvas) || !this._canvasDrawingPromise) {\n        this._setupCanvas();\n      }\n      await this._canvasDrawingPromise;\n      return this._domCanvas || this._nodeCanvas;\n    }\n  }\n\n  update(options?: Partial&lt;Options&gt;): void {\n    QRCodeStyling._clearContainer(this._container);\n    this._options = options ? sanitizeOptions(mergeDeep(this._options, options) as RequiredOptions) : this._options;\n\n    if (!this._options.data) {\n      return;\n    }\n\n    this._qr = qrcode(this._options.qrOptions.typeNumber, this._options.qrOptions.errorCorrectionLevel);\n    this._qr.addData(this._options.data, this._options.qrOptions.mode || getMode(this._options.data));\n    this._qr.make();\n\n    if (this._options.type === drawTypes.canvas) {\n      this._setupCanvas();\n    } else {\n      this._setupSvg();\n    }\n\n    this.append(this._container);\n  }\n\n  append(container?: HTMLElement): void {\n    if (!container) {\n      return;\n    }\n\n    if (typeof container.appendChild !== \"function\") {\n      throw \"Container should be a single DOM node\";\n    }\n\n    if (this._options.type === drawTypes.canvas) {\n      if (this._domCanvas) {\n        container.appendChild(this._domCanvas);\n      }\n    } else {\n      if (this._svg) {\n        container.appendChild(this._svg);\n      }\n    }\n\n    this._container = container;\n  }\n\n  applyExtension(extension: ExtensionFunction): void {\n    if (!extension) {\n      throw \"Extension function should be defined.\";\n    }\n\n    this._extension = extension;\n    this.update();\n  }\n\n  deleteExtension(): void {\n    this._extension = undefined;\n    this.update();\n  }\n\n  async getRawData(extension: FileExtension = \"png\"): Promise&lt;Blob | Buffer | null&gt; {\n    if (!this._qr) throw \"QR code is empty\";\n    const element = await this._getElement(extension);\n    const mimeType = getMimeType(extension);\n\n    if (!element) {\n      return null;\n    }\n\n    if (extension.toLowerCase() === \"svg\") {\n      const serializer = new this._window.XMLSerializer();\n      const source = serializer.serializeToString(element as SVGElement);\n      const svgString = `&lt;?xml version=\"1.0\" standalone=\"no\"?&gt;\\r\\n${source}`;\n      if (typeof Blob !== \"undefined\" &amp;&amp; !this._options.jsdom) {\n        return new Blob([svgString], { type: mimeType });\n      } else {\n        return Buffer.from(svgString);\n      }\n    } else {\n      return new Promise((resolve) =&gt; {\n        const canvas = element;\n        if ('toBuffer' in canvas) {\n          // Different call is needed to prevent error TS2769: No overload matches this call.\n          if (mimeType === \"image/png\") {\n            resolve(canvas.toBuffer(mimeType));\n          } else if (mimeType === \"image/jpeg\") {\n            resolve(canvas.toBuffer(mimeType));\n          } else if (mimeType === \"application/pdf\") {\n            resolve(canvas.toBuffer(mimeType));\n          } else {\n            throw Error(\"Unsupported extension\");\n          }\n        } else if ('toBlob' in canvas) {\n          (canvas).toBlob(resolve, mimeType, 1);\n        }\n      });\n    }\n  }\n\n  async download(downloadOptions?: Partial&lt;DownloadOptions&gt; | string): Promise&lt;void&gt; {\n    if (!this._qr) throw \"QR code is empty\";\n    if (typeof Blob === \"undefined\") throw \"Cannot download in Node.js, call getRawData instead.\";\n    let extension = \"png\" as FileExtension;\n    let name = \"qr\";\n\n    //TODO remove deprecated code in the v2\n    if (typeof downloadOptions === \"string\") {\n      extension = downloadOptions as FileExtension;\n      console.warn(\n        \"Extension is deprecated as argument for 'download' method, please pass object { name: '...', extension: '...' } as argument\"\n      );\n    } else if (typeof downloadOptions === \"object\" &amp;&amp; downloadOptions !== null) {\n      if (downloadOptions.name) {\n        name = downloadOptions.name;\n      }\n      if (downloadOptions.extension) {\n        extension = downloadOptions.extension;\n      }\n    }\n\n    const element = await this._getElement(extension);\n\n    if (!element) {\n      return;\n    }\n\n    if (extension.toLowerCase() === \"svg\") {\n      const serializer = new XMLSerializer();\n      let source = serializer.serializeToString(element as SVGElement);\n\n      source = '&lt;?xml version=\"1.0\" standalone=\"no\"?&gt;\\r\\n' + source;\n      const url = `data:${getMimeType(extension)};charset=utf-8,${encodeURIComponent(source)}`;\n      downloadURI(url, `${name}.svg`);\n    } else {\n      const url = (element as HTMLCanvasElement).toDataURL(getMimeType(extension));\n      downloadURI(url, `${name}.${extension}`);\n    }\n  }\n}\n","import modes from \"../constants/modes\";\nimport { Mode } from \"../types\";\n\nexport default function getMode(data: string): Mode {\n  switch (true) {\n    case /^[0-9]*$/.test(data):\n      return modes.numeric;\n    case /^[0-9A-Z $%*+\\-./:]*$/.test(data):\n      return modes.alphanumeric;\n    default:\n      return modes.byte;\n  }\n}\n","import QRCodeStyling from \"./core/QRCodeStyling\";\nimport dotTypes from \"./constants/dotTypes\";\nimport cornerDotTypes from \"./constants/cornerDotTypes\";\nimport cornerSquareTypes from \"./constants/cornerSquareTypes\";\nimport errorCorrectionLevels from \"./constants/errorCorrectionLevels\";\nimport errorCorrectionPercents from \"./constants/errorCorrectionPercents\";\nimport modes from \"./constants/modes\";\nimport qrTypes from \"./constants/qrTypes\";\nimport drawTypes from \"./constants/drawTypes\";\nimport shapeTypes from \"./constants/shapeTypes\";\nimport gradientTypes from \"./constants/gradientTypes\";\n\nexport * from \"./types\";\n\nexport {\n  dotTypes,\n  cornerDotTypes,\n  cornerSquareTypes,\n  errorCorrectionLevels,\n  errorCorrectionPercents,\n  modes,\n  qrTypes,\n  drawTypes,\n  shapeTypes,\n  gradientTypes\n};\n\nexport default QRCodeStyling;\n","function _classCallCheck(a, n) {\n  if (!(a instanceof n)) throw new TypeError(\"Cannot call a class as a function\");\n}\nmodule.exports = _classCallCheck, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","var toPropertyKey = require(\"./toPropertyKey.js\");\nfunction _defineProperties(e, r) {\n  for (var t = 0; t &lt; r.length; t++) {\n    var o = r[t];\n    o.enumerable = o.enumerable || !1, o.configurable = !0, \"value\" in o &amp;&amp; (o.writable = !0), Object.defineProperty(e, toPropertyKey(o.key), o);\n  }\n}\nfunction _createClass(e, r, t) {\n  return r &amp;&amp; _defineProperties(e.prototype, r), t &amp;&amp; _defineProperties(e, t), Object.defineProperty(e, \"prototype\", {\n    writable: !1\n  }), e;\n}\nmodule.exports = _createClass, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","var _typeof = require(\"./typeof.js\")[\"default\"];\nfunction toPrimitive(t, r) {\n  if (\"object\" != _typeof(t) || !t) return t;\n  var e = t[Symbol.toPrimitive];\n  if (void 0 !== e) {\n    var i = e.call(t, r || \"default\");\n    if (\"object\" != _typeof(i)) return i;\n    throw new TypeError(\"@@toPrimitive must return a primitive value.\");\n  }\n  return (\"string\" === r ? String : Number)(t);\n}\nmodule.exports = toPrimitive, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","var _typeof = require(\"./typeof.js\")[\"default\"];\nvar toPrimitive = require(\"./toPrimitive.js\");\nfunction toPropertyKey(t) {\n  var i = toPrimitive(t, \"string\");\n  return \"symbol\" == _typeof(i) ? i : i + \"\";\n}\nmodule.exports = toPropertyKey, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","function _typeof(o) {\n  \"@babel/helpers - typeof\";\n\n  return module.exports = _typeof = \"function\" == typeof Symbol &amp;&amp; \"symbol\" == typeof Symbol.iterator ? function (o) {\n    return typeof o;\n  } : function (o) {\n    return o &amp;&amp; \"function\" == typeof Symbol &amp;&amp; o.constructor === Symbol &amp;&amp; o !== Symbol.prototype ? \"symbol\" : typeof o;\n  }, module.exports.__esModule = true, module.exports[\"default\"] = module.exports, _typeof(o);\n}\nmodule.exports = _typeof, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) =&gt; {\n\tvar getter = module &amp;&amp; module.__esModule ?\n\t\t() =&gt; (module['default']) :\n\t\t() =&gt; (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) =&gt; {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) &amp;&amp; !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) =&gt; (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) =&gt; {\n\tif(typeof Symbol !== 'undefined' &amp;&amp; Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","import * as temp from \"C:\\\\coding\\\\loop91-ui-component-code\\\\qrcode-generator\\\\node_modules\\\\qr-code-styling\\\\lib\\\\qr-code-styling.js\"; export const __esModule = !0; export default temp;"],"names":["e","i","r","n","t","s","o","h","p","v","m","Array","b","x","y","C","S","M","A","a","getPatternPosition","length","d","getBCHTypeNumber","Math","floor","getBCHTypeInfo","getMaskFunction","u","c","l","getRSBlocks","put","getMode","getLength","getLengthInBits","write","dataCount","putBit","totalCount","max","getBuffer","g","getErrorCorrectPolynomial","f","mod","w","getAt","_","addData","push","isDark","getModuleCount","make","getLostPoint","createTableTag","createSvgTag","arguments","cellSize","margin","alt","title","text","id","scalable","$","join","trim","createDataURL","createImgTag","charAt","createASCII","substring","renderTo2dContext","fillStyle","fillRect","stringToBytes","stringToBytesFuncs","default","charCodeAt","createStringToBytes","read","String","fromCharCode","L","Q","H","multiply","gexp","abs","glog","SJIS","writeByte","writeShort","writeBytes","writeString","toByteArray","toString","match","setPixel","add","flush","contains","indexOf","size","apply","exports","__esModule","Object","defineProperty","enumerable","get","prototype","hasOwnProperty","call","isArray","_len","_key","shift","assign","keys","forEach","document","createElement","download","href","body","appendChild","click","removeChild","_createClass","_ref","svg","type","window","_classCallCheck","this","_svg","_type","_window","key","value","_drawDot","_drawClassy","_drawClassyRounded","_drawRounded","_drawExtraRounded","_drawSquare","getNeighbor","_ref2","rotation","draw","_element","setAttribute","PI","_rotateFigure","createElementNS","_ref3","_basicDot","_ref4","_basicSquare","_ref5","_basicCornerRounded","_basicSideRounded","_ref6","_basicCornerExtraRounded","_ref7","_basicCornersRounded","_ref8","dot","square","extraRounded","values","_ref9","_ref0","_ref1","_ref10","_ref11","_basicExtraRounded","_ref12","_ref13","_ref14","_ref15","_roundSize","_options","dotsOptions","roundSize","width","height","_defs","_imageUri","image","_instanceId","instanceCount","async","min","shape","sqrt","hideXDots","hideYDots","_qr","loadImage","_image","imageOptions","qrOptions","imageSize","errorCorrectionLevel","_ref16","originalHeight","originalWidth","maxHiddenDots","maxHiddenAxisDots","dotSize","ceil","round","drawBackground","drawDots","hideBackgroundDots","drawCorners","drawImage","count","backgroundOptions","gradient","color","_backgroundClipPath","_createColor","options","additionalRotation","name","_dotsClipPath","_ref17","z","B","P","I","cornersSquareOptions","_cornersSquareClipPath","_cornersDotClipPath","includes","cornersDotOptions","O","D","k","Promise","nodeCanvas","then","saveAsBlob","createCanvas","getContext","toDataURL","catch","Image","crossOrigin","onload","XMLHttpRequest","FileReader","onloadend","result","readAsDataURL","response","open","responseType","send","src","_ref18","_ref19","tan","colorStops","_ref20","offset","data","typeNumber","mode","Number","map","Boolean","Error","bmp","gif","ico","jpeg","jpg","png","tif","tiff","webp","pdf","toLowerCase","jsdom","resources","update","getElement","_svgDrawingPromise","drawQR","_extension","_nodeCanvas","_domCanvas","_setupSvg","_canvasDrawingPromise","XMLSerializer","serializeToString","btoa","undefined","_setupCanvas","_clearContainer","_container","test","append","_getElement","Blob","Buffer","from","toBuffer","toBlob","console","warn","extension","encodeURIComponent","innerHTML","module","TypeError","toPropertyKey","require","_defineProperties","configurable","writable","_typeof","Symbol","toPrimitive","iterator","constructor","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","__webpack_modules__","getter","definition","obj","prop","toStringTag"]}</content>
        <content_meta>{"tectonicVersion":"27.4.5","imports":[],"exports":[]}</content_meta>
        <dependencies/>
        <es_module>false</es_module>
        <is_attachment>false</is_attachment>
        <mime_type>application/json</mime_type>
        <name>qr-code-styling/1.9.2/index.min.js.map</name>
        <sys_class_name>sys_ux_lib_asset</sys_class_name>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2025-11-21 06:43:43</sys_created_on>
        <sys_id>b8d0efabca89c46e04a4882322dfbdf4</sys_id>
        <sys_mod_count>3</sys_mod_count>
        <sys_name>qr-code-styling/1.9.2/index.min.js.map</sys_name>
        <sys_package display_value="loop91 UI Components" source="x_904640_loop91_ui">bfb7b87247856a905bcceee3716d43d1</sys_package>
        <sys_policy>read</sys_policy>
        <sys_scope display_value="loop91 UI Components">bfb7b87247856a905bcceee3716d43d1</sys_scope>
        <sys_update_name>sys_ux_lib_asset_b8d0efabca89c46e04a4882322dfbdf4</sys_update_name>
        <sys_updated_by>admin</sys_updated_by>
        <sys_updated_on>2025-11-21 07:09:38</sys_updated_on>
    </sys_ux_lib_asset>
</record_update>
